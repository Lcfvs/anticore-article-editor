/* {
  "name": "anticore-article-editor",
  "version": "1.0.0",
  "author": "lcf.vs <michael.rouges@gmail.com>",
  "license": "UNLICENSED",
  "dependencies": {
    "URL": {
      "name": "js-polyfills",
      "version": "0.1.42",
      "author": "Joshua Bell",
      "license": "Unlicense",
      "homepage": "https://github.com/inexorabletash/polyfill"
    },
    "Promise": {
      "name": "es6-promise",
      "version": "4.2.4",
      "author": "Yehuda Katz, Tom Dale, Stefan Penner and contributors",
      "license": "MIT",
      "homepage": "https://github.com/stefanpenner/es6-promise#readme"
    },
    "fetch": {
      "name": "whatwg-fetch",
      "version": "2.0.3",
      "license": "MIT",
      "homepage": "https://github.com/github/fetch#readme"
    },
    "platform": {
      "name": "platform",
      "version": "1.3.5",
      "author": "Benjamin Tan",
      "license": "MIT",
      "homepage": "https://github.com/bestiejs/platform.js#readme"
    },
    "anticore": {
      "name": "anticore",
      "version": "2.18.1",
      "author": "Lcf.vs",
      "license": "MIT",
      "homepage": "https://github.com/Lcfvs/anticore#readme"
    }
  }
} */
(function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=104)})([function(e,t,n){'use strict';function o(){}function r(e){(e.offsetWidth||e.offsetHeight||(0,v.rects)(e).length)&&(this.search+='&'+q(('option'===(0,g.nodeName)(e)?(0,E.parent)(e):e).name)+'='+q(e.value).replace(/%20/g,'+'))}function a(e){var t=L.queue[0].request.originalTarget;return t&&t.classList.toggle('fetching'),e}function l(){var e=L.queue[0];if(!L.queue[1]){a();var t=e.request.url,n=e.request.negotiate(t);return n(t,e.request.options).then(i).then(a).then(d).then(e.trigger||e.request.resolve).then(L.queue.next)['catch'](e.reject)}}function i(e){var t=((e.headers.get('content-type')||'application/octet-stream').match(/json|html|svg|xml|text(?=\/plain)/)||['blob'])[0],n=L.queue[0];return n.type=t,n.request.response=e,e[-1<(0,C.indexOf)(D,t)?'text':t]()}function s(e){(0,w.forEach)((0,P.all)('.error',(0,h.getTarget)(e)),S.remove),R.fetchFromEvent(e)}function d(e){var t=L.queue[0];return t.request.response.result=-1<(0,C.indexOf)(D,t.type)?(0,N.toDOM)(e):e,t.request}function u(e){var t=this.shift();return t?void t[0](t[1],this.next,this.loaded):e&&e()}function c(e){var t=this,n=(0,P.all)(e,t.container);t.selector=e,(0,w.forEach)(n,p,t)}function p(e){var t=this;t.element=e,(0,w.forEach)(F[t.selector],f,t)}function f(e){var t=this,n=t.element,o=t.loaded||!1,r=t.selector;R.debug.onMatch(r,e,n,o),t.push([e,n,o])}function m(e,t){return new Promise(function(n){var o=[];o.container=e,o.loaded=t,(0,w.forEach)((0,k.keys)(F),c,o),o.next=u.bind(o,n),o.next()})}Object.defineProperty(t,'__esModule',{value:!0}),t.anticore=void 0;var h=n(74),b=n(2),y=n(76),_=n(3),g=n(18),v=n(111),x=n(26),P=n(33),M=n(6),E=n(1),S=n(4),O=n(8),w=n(21),C=n(9),T=n(17),k=n(77),N=n(112),A=n(80),L=n(81),R=t.anticore=(0,T.create)(),B=(0,O.global)(),I=B.console,q=B.encodeURIComponent,j=B.URL,U=B.FormData,F=(0,T.create)(),D=['html','svg','xml'],H='input[type=submit]:focus,button[type=submit]:focus,button:not([type]):focus,input[type=submit]:hover,button[type=submit]:hover,button:not([type]):hover,input[name]:not([type=file]):not([type=reset]):not([type=submit]):not([type=checkbox]):not([type=radio]):not(:disabled),input[name][type=checkbox]:checked:not(:disabled),input[name][type=radio]:checked:not(:disabled),textarea[name]:not(:disabled),select[name]:not(:disabled) [selected=selected]';R.fetchers=(0,T.create)(),R.request=A.request,R.fetchers.a=function(e){return(0,A.request)(e.href,'get',null,e)},R.fetchers.form=function(e){var t,n=new j(e.action||e.ownerDocument.location.href),o=e.method;return'post'===o?t=new U(e):(n.search+=-1<(0,C.indexOf)(n.search,'?')?'':'?',(0,w.forEach)((0,P.all)(H,e),r,n)),(0,A.request)(n.toString(),o,t,e)},R.fetcher=function(e){return R.fetchers[(0,g.nodeName)(e)](e)},R.trigger=function(e){return R.onTimeout(e)?R:(m(e.response.result,!0).then(e.resolve).then(function(){return e}),R)},R.on=function(e,t){return F[e]=F[e]||[],0>(0,C.indexOf)(F[e],t)&&(R.debug.onMiddleware(e,t),F[e].push(t)),R},R.onTimeout=function(e){return!(408!==e.response.status)&&(e.retry(),!0)},R.populate=function(e){return m(e||(0,x.document)())},R.request=function(e,t,n,o){var r=(0,A.request)(e,t,n,o);return r.fetchRequest=l,r},R.fetchFromEvent=function(e){if(e.defaultPrevented)return!1;var t=(0,h.getTarget)(e),n=R.fetcher(t);return n.target=t,n.originalTarget=(0,M.one)(H,t.ownerDocument),n.fetchRequest=l,(0,_.prevent)(e),n.fetch(R.trigger)['catch'](R.onError),!1},R.onError=I.error.bind(I),R.defaults=function(){return R.on('a:not([download]):not([target]):not([href^="data:"]),a[target=_self]:not([download]):not([href^="data:"])',function(e,t){(0,b.onClick)(e,R.fetchFromEvent),t()}),R.on('form:not([target]),form[target=_self]',function(e,t){(0,y.onSubmit)(e,s),t()}),R},R.debug=(0,T.create)(),R.debug.onMiddleware=o,R.debug.onMatch=o},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.parent=function(e){return e.parentNode}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onClick=function(e,t,n){return(0,o.on)('click',e,function(e){if((0,r.matches)(e,!1,!1,!1))return t.call(this,e)},n)};var o=n(7),r=n(20)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.prevent=function(e){return e.preventDefault(),e}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.remove=function(e){return(0,o.parent)(e)&&(0,o.parent)(e).removeChild(e),e};var o=n(1)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.current=void 0;var o=n(8),r=t.current=(0,o.global)().getSelection},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.one=function(e,t){return(t||(0,o.document)()).querySelector(e)};var o=n(26)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.on=void 0;var o=n(8),r=n(75),a=(0,o.global)(),l=t.on=r.callEach.bind(null,a.Element.prototype.addEventListener)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.global=function(e){return e}.constructor('return this').bind(null)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.indexOf=void 0;var o=n(25),r=t.indexOf=(0,o.demethodize)(Array.prototype.indexOf)},function(e,t,n){'use strict';function o(e){(0,d.isTrailingStyle)(e)&&(0,l.remove)(e),e.normalize()}function r(e){(0,s.isTrailingReturn)(e)&&(0,l.remove)(e),e.normalize()}Object.defineProperty(t,'__esModule',{value:!0}),t.clean=function(e){return(0,i.forEach)((0,c.styles)(e),o),(0,i.forEach)((0,u.returns)(e),r),(0,a.isEmpty)(e)};var a=n(23),l=n(4),i=n(21),s=n(127),d=n(130),u=n(131),c=n(132)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.text=function(e,t){return(0,r.isElement)(e)?((0,o.isUndefined)(t)||(e.textContent=t),e.textContent):((0,o.isUndefined)(t)||(e.nodeValue=t),e.nodeValue)};var o=n(53),r=n(27)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.curry=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e.bind.apply(e,[this].concat(n))}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.element=function(e){return(0,o.document)().createElement(e)};var o=n(26)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.closest=function(e,t){for(var n=t,a=(0,r.parent)(n);a;){if((0,o.matches)(e,a))return a;n=a,a=(0,r.parent)(n)}return null};var o=n(28),r=n(1)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.before=function(e,t,n){return t?(0,o.parent)(t).insertBefore(e,t):n.appendChild(e),e};var o=n(1)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.attr=function(e,t,n){return t=(0,l.camelToDash)(t),(0,i.isString)(n)||(0,a.isNumber)(n)||(0,o.isBoolean)(n)?(e.setAttribute(t,n),e):(0,r.isNull)(n)?(e.removeAttribute(t),e):e.getAttribute(t)};var o=n(83),r=n(37),a=n(45),l=n(84),i=n(46)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.create=function(e,t,n){return e(t||null,n)}.bind(null,Object.create)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.nodeName=function(e){return e?(0,o.toLowerCase)(e.nodeName):null};var o=n(36)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.append=function(e,t){return(0,o.before)(e,null,t)};var o=n(15)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.matches=function(t,e,n,r,a,l){return t.ctrlKey===e&&t.altKey===n&&t.shiftKey===r&&(!a||-1<(0,o.indexOf)(a,t.key)||t.which===l||t.keyCode===l)};var o=n(9)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.forEach=void 0;var o=n(25),r=t.forEach=(0,o.demethodize)(Array.prototype.forEach)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.nodes=function(e){return e.childNodes}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isEmpty=function(e){return(!(0,a.isElement)(e)||!(0,o.one)('*',e))&&!((0,r.text)(e)||'').trim().length};var o=n(6),r=n(11),a=n(27)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.appendAll=function(e,t){return(0,o.forEach)((0,r.slice)(e,0),function(e){(0,a.append)(e,t)}),e};var o=n(21),r=n(54),a=n(19)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.demethodize=Function.bind.bind(Function.call)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.document=function(){return(0,o.global)().document};var o=n(8)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isElement=function(e){return 1===e.nodeType}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.matches=function(e,t){var n=(0,r.all)(e,t.document||t.ownerDocument),l=n.length;for((0,o.isText)(t)&&(t=(0,a.parent)(t));0<=--l&&n.item(l)!==t;);return-1<l};var o=n(29),r=n(33),a=n(1)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isText=function(e){return 3===e.nodeType}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.listenP=function(e){return(0,r.onBlur)(e,c.onBlurEvent,!0),(0,l.onEnter)(e,f.onEnterEvent,!0),(0,o.onBack)(e,u.onBackEvent,!0),(0,a.onDelete)(e,p.onDeleteEvent,!0),(0,i.onLeft)(e,m.onLeftEvent,!0),(0,s.onRight)(e,b.onRightEvent,!0),(0,d.onListPrefix)(e,h.onListPrefixInput,!0),e};var o=n(59),r=n(60),a=n(86),l=n(31),i=n(87),s=n(88),d=n(150),u=n(151),c=n(153),p=n(154),f=n(156),m=n(159),h=n(160),b=n(168)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onEnter=function(e,t,n){return(0,o.on)('keydown',e,function(e){if((0,r.matches)(e,!1,!1,!1,['Enter'],13))return t.call(this,e)},n)};var o=n(7),r=n(20)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.editables=function(e){return(0,o.all)('[contenteditable="true"]',(0,r.closest)('article',e))};var o=n(33),r=n(14)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.all=function(e,t){return(t||(0,o.document)()).querySelectorAll(e)};var o=n(26)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.closestOrSelf=function(e,t){return(0,o.isElement)(t)&&(0,r.matches)(e,t)?t:(0,a.closest)(e,t)};var o=n(27),r=n(28),a=n(14)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.nextElement=function(e){return e.nextElementSibling}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.toLowerCase=void 0;var o=n(25),r=t.toLowerCase=(0,o.demethodize)(String.prototype.toLowerCase)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isNull=function(e){return null===e}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isHeadingNode=function(e){return e&&(0,o.isElement)(e)&&(0,r.matches)(l,e)||(0,a.closest)(l,e)};var o=n(27),r=n(28),a=n(14),l='h1, h2, h3, h4, h5, h6'},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.anchor=void 0;var o=n(17),r=n(5),a=t.anchor=(0,o.create)();a.node=function(){return(0,r.current)().anchorNode},a.offset=function(){return(0,r.current)().anchorOffset}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isCollapsed=function(){return(0,o.current)().isCollapsed};var o=n(5)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.update=function(e,t){return(0,r.isObject)(t)&&(0,o.forEach)((0,a.keys)(t),function(n){var m=t[n];'on'===n.substr(0,2)?(0,i.on)((0,l.toLowerCase)(n.substr(2)),e,m):'style'===n&&(0,r.isObject)(m)?(0,o.forEach)((0,a.keys)(m),function(t){(0,p.style)(e,t,m[t])}):'dataset'===n&&(0,r.isObject)(m)?(0,o.forEach)((0,a.keys)(m),function(t){(0,c.data)(e,t,m[t])}):'text'===n?(0,f.text)(e,m):'parent'===n?(0,s.append)(e,m):'next'===n?(0,u.before)(e,m):(0,d.attr)(e,n,m)}),e};var o=n(21),r=n(144),a=n(77),l=n(36),i=n(7),s=n(19),d=n(16),u=n(15),c=n(47),p=n(146),f=n(11)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};t.getTypeOf=function(e){return'undefined'==typeof e?'undefined':n(e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.firstNode=function(e){return e.firstChild}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.promise=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return new Promise(a.apply(void 0,[this,e].concat(n)))};var o=n(12),r=n(25),a=(0,r.demethodize)(o.curry)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isNumber=function(e){return(0,r.getTypeOf)(e)===a||(0,o.getPrimitiveOf)(e)===a};var o=n(58),r=n(42),a='number'},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isString=function(e){return(0,r.getTypeOf)(e)===a||(0,o.getPrimitiveOf)(e)===a};var o=n(58),r=n(42),a='string'},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.data=function(e,t,n){return t=(0,a.dashToCamel)(t),(0,l.isString)(n)||(0,r.isNumber)(n)?(e.dataset[t]=n,e):(0,o.isNull)(n)?(delete e.dataset[t],e):e.dataset[t]};var o=n(37),r=n(45),a=n(85),l=n(46)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.previous=function(e,t){var n=(0,o.indexOf)(t,e);for(e=t[n-=1];e;){if((0,r.parent)(e))return(0,a.end)(e);e=t[n-=1]}};var o=n(9),r=n(1),a=n(49)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.end=function(e){var t=(0,o.lastOrSelf)(e);return(0,a.select)(t,(0,r.text)(t).length),t};var o=n(152),r=n(11),a=n(90)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.lastNode=function(e){return e.lastChild}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.starts=function(e){var t=(0,l.current)(),n=t.anchorOffset,i=t.anchorNode;if(n||!(0,o.contains)(i,e))return!1;for(;i;){if((0,r.firstNode)((0,a.parent)(i))!==i)return!1;if(i===e||i===(0,r.firstNode)(e))return!0;i=(0,a.parent)(i)}return!1};var o=n(61),r=n(43),a=n(1),l=n(5)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.listenLi=function(e){return(0,r.onBlur)(e,u.onBlurEvent,!0),(0,l.onEnter)(e,p.onEnterEvent,!0),(0,o.onBack)(e,d.onBackEvent,!0),(0,a.onDelete)(e,c.onDeleteEvent,!0),(0,i.onLeft)(e,f.onLeftEvent,!0),(0,s.onRight)(e,m.onRightEvent,!0),e};var o=n(59),r=n(60),a=n(86),l=n(31),i=n(87),s=n(88),d=n(162),u=n(163),c=n(164),p=n(165),f=n(166),m=n(167)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isUndefined=function(e){return e===void 0}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.slice=void 0;var o=n(25),r=t.slice=(0,o.demethodize)(Array.prototype.slice)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.html=function(e,t){if((0,a.isElement)(e))return(0,r.isUndefined)(t)?e.innerHTML:(e.innerHTML=t,(0,o.forEach)((0,l.elements)(e),i.sanitize),e)};var o=n(21),r=n(53),a=n(27),l=n(56),i=n(116)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.elements=function(e){return e.children}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.nextNode=function(e){return e.nextSibling}},function(e,t,n){'use strict';function o(e){if((0,l.isNull)(e))return'null';var t=(0,s.getTypeOf)(e);if('object'!==t)return t;var n=u(e);if((0,l.isNull)(n))return t;var r=n.constructor;return-1<(0,a.indexOf)(c,r)?(0,i.toLowerCase)(r.name):o(n)}Object.defineProperty(t,'__esModule',{value:!0}),t.getPrimitiveOf=o;var r=n(8),a=n(9),l=n(37),i=n(36),s=n(42),d=(0,r.global)(),u=Object.getPrototypeOf,c=[d.Boolean,d.Function,d.Number,d.String,d.Symbol]},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onBack=function(e,t,n){return(0,o.on)('keydown',e,function(e){if((0,r.matches)(e,!1,!1,!1,['Backspace'],8))return t.call(this,e)},n)};var o=n(7),r=n(20)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onBlur=function(e,t,n){return(0,o.on)('blur',e,t,n)};var o=n(7)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.contains=function(e,t){return t.contains(e)}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isFirstP=function(e){return!!e&&((0,o.isText)(e)&&(e=(0,a.closest)('p',e)),'p'===(0,r.nodeName)(e)&&(0,l.firstElement)((0,i.parent)(e))===e)};var o=n(29),r=n(18),a=n(14),l=n(91),i=n(1)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.start=function(e){var t=(0,o.firstOrSelf)(e);return(0,r.select)(t,0),t};var o=n(157),r=n(90)},function(e,t,n){'use strict';function o(e,t,n){var u,g,v,x,P;if(!e)return(0,d.fragment)();if(u=(0,m.nodes)(e),!u.length)return(0,d.fragment)();if(g=(0,_.clone)(e),e===t)return e=(0,l.isElement)(e)?e:(0,h.parent)(t),v=u[n],P=(0,f.nextNodes)(v),(0,b.append)(v,g),(0,y.appendAll)(P,g),g;for(v=(0,c.firstNode)(e);v&&!(0,a.contains)(g,v);)x=(0,p.nextNode)(v),(0,i.isEmpty)(v)||(P=(0,f.nextNodes)(v),(0,s.isText)(v)&&v===t?((0,b.append)(r(v,n),g),(0,y.appendAll)(P,g)):(0,l.isElement)(v)&&(0,a.contains)(v,t)&&((0,b.append)(o(v,t,n),g),(0,y.appendAll)(P,g))),v=x;return g}function r(e,t){var n=(0,_.clone)(e,!0);return(0,g.text)(n,(0,g.text)(n).substr(t)),(0,g.text)(e,(0,g.text)(e).substr(0,t)),n}Object.defineProperty(t,'__esModule',{value:!0}),t.cut=function(e,t){return o((0,u.closestOrSelf)('[contenteditable=true]',e),e,t)};var a=n(61),l=n(27),i=n(23),s=n(29),d=n(78),u=n(34),c=n(43),p=n(57),f=n(158),m=n(22),h=n(1),b=n(19),y=n(24),_=n(82),g=n(11)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isFirstLi=function(e){return!!e&&((0,o.isText)(e)&&(e=(0,a.closest)('li',e)),'li'===(0,r.nodeName)(e)&&(0,l.firstElement)((0,i.parent)(e))===e)};var o=n(29),r=n(18),a=n(14),l=n(91),i=n(1)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.after=function(e,t){return(0,a.before)(e,(0,o.nextNode)(t),(0,r.parent)(t))};var o=n(57),r=n(1),a=n(15)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.next=function(e,t){var n=(0,o.indexOf)(t,e);for(e=t[n+=1];e;){if((0,r.parent)(e))return(0,a.start)(e);e=t[n+=1]}};var o=n(9),r=n(1),a=n(63)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.nextOrClose=function(e,t){var n=t.target,a=e.labels[(0,r.indexOf)(e.inputs,n)+1];return(0,o.prevent)(t),a?a.click():void e.close()};var o=n(3),r=n(9)},function(e,t,n){'use strict';function o(e,t,n){t.toBlob(n,e.mime,e.quality||1)}Object.defineProperty(t,'__esModule',{value:!0}),t.canvasToBlob=function(e,t){return(0,r.promise)(o,e,t)};var r=n(44)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.show=function(e,t){t&&(0,o.prevent)(t),(0,l.append)(e.element,(0,r.one)('main')),(0,a.focus)(e.inputs[0])};var o=n(3),r=n(6),a=n(94),l=n(19)},function(e){'use strict';var t,n='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(o){'object'===('undefined'==typeof window?'undefined':n(window))&&(t=window)}e.exports=t},function(e,t,n){'use strict';(function(e,o){var r,a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};(function(){function l(e){return e+='',e.charAt(0).toUpperCase()+e.slice(1)}function i(e,t,n){var o={"10.0":'10',6.4:'10 Technical Preview',6.3:'8.1',6.2:'8',6.1:'Server 2008 R2 / 7',"6.0":'Server 2008 / Vista',5.2:'Server 2003 / XP 64-bit',5.1:'XP',5.01:'2000 SP1',"5.0":'2000',"4.0":'NT',"4.90":'ME'};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(o=o[/[\d.]+$/.exec(e)])&&(e='Windows '+o),e+='',t&&n&&(e=e.replace(RegExp(t,'i'),n)),e=d(e.replace(/ ce$/i,' CE').replace(/\bhpw/i,'web').replace(/\bMacintosh\b/,'Mac OS').replace(/_PowerPC\b/i,' OS').replace(/\b(OS X) [^ \d]+/i,'$1').replace(/\bMac (OS X)\b/,'$1').replace(/\/(\d)/,' $1').replace(/_/g,'.').replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,'').replace(/\bx86\.64\b/gi,'x86_64').replace(/\b(Windows Phone) OS\b/,'$1').replace(/\b(Chrome OS \w+) [\d.]+\b/,'$1').split(' on ')[0]),e}function s(e,t){var n=-1,o=e?e.length:0;if('number'==typeof o&&-1<o&&o<=M)for(;++n<o;)t(e[n],n,e);else u(e,t)}function d(e){return e=h(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:l(e)}function u(e,t){for(var n in e)w.call(e,n)&&t(e[n],n,e)}function c(e){return null==e?l(e):C.call(e).slice(8,-1)}function p(e,t){var n=null==e?'number':a(e[t]);return!/^(?:boolean|number|string|undefined)$/.test(n)&&('object'!=n||!!e[t])}function f(e){return(e+'').replace(/([ -])(?!$)/g,'$1?')}function m(e,t){var n=null;return s(e,function(o,r){n=t(n,o,r,e)}),n}function h(e){return(e+'').replace(/^ +| +$/g,'')}function b(e){function t(t){return m(t,function(t,n){var o=n.pattern||f(n);return!t&&(t=RegExp('\\b'+o+' *\\d+[.\\w_]*','i').exec(e)||RegExp('\\b'+o+' *\\w+-[\\w]*','i').exec(e)||RegExp('\\b'+o+'(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)','i').exec(e))&&((t=((n.label&&!RegExp(o,'i').test(n.label)?n.label:t)+'').split('/'))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=' '+t[1]),n=n.label||n,t=d(t[0].replace(RegExp(o,'i'),n).replace(RegExp('; *(?:'+n+'[_-])?','i'),' ').replace(RegExp('('+n+')[-_.]?(\\w)','i'),'$1 $2'))),t})}var n=_,o=e&&'object'==('undefined'==typeof e?'undefined':a(e))&&'String'!=c(e);o&&(n=e,e=null);var r=n.navigator||{},l=r.userAgent||'';e||(e=l);var s,y,g=o?!!r.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(C.toString()),v='Object',x=o?v:'ScriptBridgingProxyObject',P=o?v:'Environment',M=o&&n.java?'JavaPackage':c(n.java),S=o?v:'RuntimeObject',O=/\bJava/.test(M)&&n.java,w=O&&c(n.environment)==P,T=O?'a':'\u03B1',k=O?'b':'\u03B2',N=n.document||{},A=n.operamini||n.opera,L=E.test(L=o&&A?A['[[Class]]']:c(A))?L:A=null,R=e,B=[],I=null,q=e==l,j=q&&A&&'function'==typeof A.version&&A.version(),U=function(t){return m(t,function(t,n){return t||RegExp('\\b'+(n.pattern||f(n))+'\\b','i').exec(e)&&(n.label||n)})}([{label:'EdgeHTML',pattern:'Edge'},'Trident',{label:'WebKit',pattern:'AppleWebKit'},'iCab','Presto','NetFront','Tasman','KHTML','Gecko']),F=function(t){return m(t,function(t,n){return t||RegExp('\\b'+(n.pattern||f(n))+'\\b','i').exec(e)&&(n.label||n)})}(['Adobe AIR','Arora','Avant Browser','Breach','Camino','Electron','Epiphany','Fennec','Flock','Galeon','GreenBrowser','iCab','Iceweasel','K-Meleon','Konqueror','Lunascape','Maxthon',{label:'Microsoft Edge',pattern:'Edge'},'Midori','Nook Browser','PaleMoon','PhantomJS','Raven','Rekonq','RockMelt',{label:'Samsung Internet',pattern:'SamsungBrowser'},'SeaMonkey',{label:'Silk',pattern:'(?:Cloud9|Silk-Accelerated)'},'Sleipnir','SlimBrowser',{label:'SRWare Iron',pattern:'Iron'},'Sunrise','Swiftfox','Waterfox','WebPositive','Opera Mini',{label:'Opera Mini',pattern:'OPiOS'},'Opera',{label:'Opera',pattern:'OPR'},'Chrome',{label:'Chrome Mobile',pattern:'(?:CriOS|CrMo)'},{label:'Firefox',pattern:'(?:Firefox|Minefield)'},{label:'Firefox for iOS',pattern:'FxiOS'},{label:'IE',pattern:'IEMobile'},{label:'IE',pattern:'MSIE'},'Safari']),D=t([{label:'BlackBerry',pattern:'BB10'},'BlackBerry',{label:'Galaxy S',pattern:'GT-I9000'},{label:'Galaxy S2',pattern:'GT-I9100'},{label:'Galaxy S3',pattern:'GT-I9300'},{label:'Galaxy S4',pattern:'GT-I9500'},{label:'Galaxy S5',pattern:'SM-G900'},{label:'Galaxy S6',pattern:'SM-G920'},{label:'Galaxy S6 Edge',pattern:'SM-G925'},{label:'Galaxy S7',pattern:'SM-G930'},{label:'Galaxy S7 Edge',pattern:'SM-G935'},'Google TV','Lumia','iPad','iPod','iPhone','Kindle',{label:'Kindle Fire',pattern:'(?:Cloud9|Silk-Accelerated)'},'Nexus','Nook','PlayBook','PlayStation Vita','PlayStation','TouchPad','Transformer',{label:'Wii U',pattern:'WiiU'},'Wii','Xbox One',{label:'Xbox 360',pattern:'Xbox'},'Xoom']),H=function(t){return m(t,function(t,n,o){return t||(n[D]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(D)]||RegExp('\\b'+f(o)+'(?:\\b|\\w*\\d)','i').exec(e))&&o})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),G=function(t){return m(t,function(t,n){var o=n.pattern||f(n);return!t&&(t=RegExp('\\b'+o+'(?:/[\\d.]+|[ \\w.]*)','i').exec(e))&&(t=i(t,o,n.label||n)),t})}(['Windows Phone','Android','CentOS',{label:'Chrome OS',pattern:'CrOS'},'Debian','Fedora','FreeBSD','Gentoo','Haiku','Kubuntu','Linux Mint','OpenBSD','Red Hat','SuSE','Ubuntu','Xubuntu','Cygwin','Symbian OS','hpwOS','webOS ','webOS','Tablet OS','Tizen','Linux','Mac OS X','Macintosh','Mac','Windows 98;','Windows ']);if(U&&(U=[U]),H&&!D&&(D=t([H])),(s=/\bGoogle TV\b/.exec(D))&&(D=s[0]),/\bSimulator\b/i.test(e)&&(D=(D?D+' ':'')+'Simulator'),'Opera Mini'==F&&/\bOPiOS\b/.test(e)&&B.push('running in Turbo/Uncompressed mode'),'IE'==F&&/\blike iPhone OS\b/.test(e)?(s=b(e.replace(/like iPhone OS/,'')),H=s.manufacturer,D=s.product):/^iP/.test(D)?(F||(F='Safari'),G='iOS'+((s=/ OS ([\d_]+)/i.exec(e))?' '+s[1].replace(/_/g,'.'):'')):'Konqueror'!=F||/buntu/i.test(G)?H&&'Google'!=H&&(/Chrome/.test(F)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(D))||/\bAndroid\b/.test(G)&&/^Chrome/.test(F)&&/\bVersion\//i.test(e)?(F='Android Browser',G=/\bAndroid\b/.test(G)?G:'Android'):'Silk'==F?(!/\bMobi/i.test(e)&&(G='Android',B.unshift('desktop mode')),/Accelerated *= *true/i.test(e)&&B.unshift('accelerated')):'PaleMoon'==F&&(s=/\bFirefox\/([\d.]+)\b/.exec(e))?B.push('identifying as Firefox '+s[1]):'Firefox'==F&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(G||(G='Firefox OS'),D||(D=s[1])):!F||(s=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(F))?(F&&!D&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(s+'/')+8))&&(F=null),(s=D||H||G)&&(D||H||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(G))&&(F=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(G)?G:s)+' Browser')):'Electron'==F&&(s=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&B.push('Chromium '+s):G='Kubuntu',j||(j=function(t){return m(t,function(t,n){return t||(RegExp(n+'(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)','i').exec(e)||0)[1]||null})}(['(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))','Version',f(F),'(?:Firefox|Minefield|NetFront)'])),(s='iCab'==U&&3<parseFloat(j)&&'WebKit'||/\bOpera\b/.test(F)&&(/\bOPR\b/.test(e)?'Blink':'Presto')||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(U)&&'WebKit'||!U&&/\bMSIE\b/i.test(e)&&('Mac OS'==G?'Tasman':'Trident')||'WebKit'==U&&/\bPlayStation\b(?! Vita\b)/i.test(F)&&'NetFront')&&(U=[s]),'IE'==F&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(F+=' Mobile',G='Windows Phone '+(/\+$/.test(s)?s:s+'.x'),B.unshift('desktop mode')):/\bWPDesktop\b/i.test(e)?(F='IE Mobile',G='Windows Phone 8.x',B.unshift('desktop mode'),j||(j=(/\brv:([\d.]+)/.exec(e)||0)[1])):'IE'!=F&&'Trident'==U&&(s=/\brv:([\d.]+)/.exec(e))&&(F&&B.push('identifying as '+F+(j?' '+j:'')),F='IE',j=s[1]),q){if(!p(n,'global'))c(s=n.runtime)==x?(F='Adobe AIR',G=s.flash.system.Capabilities.os):c(s=n.phantom)==S?(F='PhantomJS',j=(s=s.version||null)&&s.major+'.'+s.minor+'.'+s.patch):'number'==typeof N.documentMode&&(s=/\bTrident\/(\d+)/i.exec(e))?(j=[j,N.documentMode],(s=+s[1]+4)!=j[1]&&(B.push('IE '+j[1]+' mode'),U&&(U[1]=''),j[1]=s),j='IE'==F?j[1].toFixed(1)+'':j[0]):'number'==typeof N.documentMode&&/^(?:Chrome|Firefox)\b/.test(F)&&(B.push('masking as '+F+' '+j),F='IE',j='11.0',U=['Trident'],G='Windows');else if(O&&(s=O.lang.System,R=s.getProperty('os.arch'),G=G||s.getProperty('os.name')+' '+s.getProperty('os.version')),w){try{j=n.require('ringo/engine').version.join('.'),F='RingoJS'}catch(t){(s=n.system)&&s.global.system==n.system&&(F='Narwhal',G||(G=s[0].os||null))}F||(F='Rhino')}else'object'==a(n.process)&&!n.process.browser&&(s=n.process)&&('object'==a(s.versions)&&('string'==typeof s.versions.electron?(B.push('Node '+s.versions.node),F='Electron',j=s.versions.electron):'string'==typeof s.versions.nw&&(B.push('Chromium '+j,'Node '+s.versions.node),F='NW.js',j=s.versions.nw)),F||(F='Node.js',R=s.arch,G=s.platform,j=/[\d.]+/.exec(s.version),j=j?j[0]:null));G=G&&d(G)}if(j&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(j)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+';'+(q&&r.appMinorVersion))||/\bMinefield\b/i.test(e)&&'a')&&(I=/b/i.test(s)?'beta':'alpha',j=j.replace(RegExp(s+'\\+?$'),'')+('beta'==I?k:T)+(/\d+\+?/.exec(s)||'')),'Fennec'==F||'Firefox'==F&&/\b(?:Android|Firefox OS)\b/.test(G))F='Firefox Mobile';else if('Maxthon'==F&&j)j=j.replace(/\.[\d.]+/,'.x');else if(/\bXbox\b/i.test(D))'Xbox 360'==D&&(G=null),'Xbox 360'==D&&/\bIEMobile\b/.test(e)&&B.unshift('mobile mode');else if((/^(?:Chrome|IE|Opera)$/.test(F)||F&&!D&&!/Browser|Mobi/.test(F))&&('Windows CE'==G||/Mobi/i.test(e)))F+=' Mobile';else if('IE'==F&&q)try{null===n.external&&B.unshift('platform preview')}catch(t){B.unshift('embedded')}else(/\bBlackBerry\b/.test(D)||/\bBB10\b/.test(e))&&(s=(RegExp(D.replace(/ +/g,' *')+'/([.\\d]+)','i').exec(e)||0)[1]||j)?(s=[s,/BB10/.test(e)],G=(s[1]?(D=null,H='BlackBerry'):'Device Software')+' '+s[0],j=null):this!=u&&'Wii'!=D&&(q&&A||/Opera/.test(F)&&/\b(?:MSIE|Firefox)\b/i.test(e)||'Firefox'==F&&/\bOS X (?:\d+\.){2,}/.test(G)||'IE'==F&&(G&&!/^Win/.test(G)&&5.5<j||/\bWindows XP\b/.test(G)&&8<j||8==j&&!/\bTrident\b/.test(e)))&&!E.test(s=b.call(u,e.replace(E,'')+';'))&&s.name&&(s='ing as '+s.name+((s=s.version)?' '+s:''),E.test(F)?(/\bIE\b/.test(s)&&'Mac OS'==G&&(G=null),s='identify'+s):(s='mask'+s,F=L?d(L.replace(/([a-z])([A-Z])/g,'$1 $2')):'Opera',/\bIE\b/.test(s)&&(G=null),!q&&(j=null)),U=['Presto'],B.push(s));(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,'.0$1')),s],'Safari'==F&&'+'==s[1].slice(-1)?(F='WebKit Nightly',I='alpha',j=s[1].slice(0,-1)):(j==s[1]||j==(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1]))&&(j=null),s[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==s[0]&&537.36==s[2]&&28<=parseFloat(s[1])&&'WebKit'==U&&(U=['Blink']),q&&(g||s[1])?(U&&(U[1]='like Chrome'),s=s[1]||(s=s[0],530>s?1:532>s?2:532.05>s?3:533>s?4:534.03>s?5:534.07>s?6:534.1>s?7:534.13>s?8:534.16>s?9:534.24>s?10:534.3>s?11:535.01>s?12:535.02>s?'13+':535.07>s?15:535.11>s?16:535.19>s?17:536.05>s?18:536.1>s?19:537.01>s?20:537.11>s?'21+':537.13>s?23:537.18>s?24:537.24>s?25:537.36>s?26:'Blink'==U?'28':'27')):(U&&(U[1]='like Safari'),s=(s=s[0],400>s?1:500>s?2:526>s?3:533>s?4:534>s?'4+':535>s?5:537>s?6:538>s?7:601>s?8:'8')),U&&(U[1]+=' '+(s+='number'==typeof s?'.x':/[.+]/.test(s)?'':'+')),'Safari'==F&&(!j||45<parseInt(j))&&(j=s)),'Opera'==F&&(s=/\bzbov|zvav$/.exec(G))?(F+=' ',B.unshift('desktop mode'),'zvav'==s?(F+='Mini',j=null):F+='Mobile',G=G.replace(RegExp(' *'+s+'$'),'')):'Safari'==F&&/\bChrome\b/.exec(U&&U[1])&&(B.unshift('desktop mode'),F='Chrome Mobile',j=null,/\bOS X\b/.test(G)?(H='Apple',G='iOS 4.3+'):G=null),j&&0==j.indexOf(s=/[\d.]+$/.exec(G))&&-1<e.indexOf('/'+s+'-')&&(G=h(G.replace(s,''))),U&&!/\b(?:Avant|Nook)\b/.test(F)&&(/Browser|Lunascape|Maxthon/.test(F)||'Safari'!=F&&/^iOS/.test(G)&&/\bSafari\b/.test(U[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(F)&&U[1])&&(s=U[U.length-1])&&B.push(s),B.length&&(B=['('+B.join('; ')+')']),H&&D&&0>D.indexOf(H)&&B.push('on '+H),D&&B.push((/^on /.test(B[B.length-1])?'':'on ')+D),G&&(s=/ ([\d.+]+)$/.exec(G),y=s&&'/'==G.charAt(G.length-s[0].length-1),G={architecture:32,family:s&&!y?G.replace(s[0],''):G,version:s?s[1]:null,toString:function(){var e=this.version;return this.family+(e&&!y?' '+e:'')+(64==this.architecture?' 64-bit':'')}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(R))&&!/\bi686\b/i.test(R)?(G&&(G.architecture=64,G.family=G.family.replace(RegExp(' *'+s),'')),F&&(/\bWOW64\b/i.test(e)||q&&/\w(?:86|32)$/.test(r.cpuClass||r.platform)&&!/\bWin64; x64\b/i.test(e))&&B.unshift('32-bit')):G&&/^OS X/.test(G.family)&&'Chrome'==F&&39<=parseFloat(j)&&(G.architecture=64),e||(e=null);var W={};return W.description=e,W.layout=U&&U[0],W.manufacturer=H,W.name=F,W.prerelease=I,W.product=D,W.ua=e,W.version=F&&j,W.os=G||{architecture:null,family:null,version:null,toString:function(){return'null'}},W.parse=b,W.toString=function(){return this.description||''},W.version&&B.unshift(j),W.name&&B.unshift(F),G&&F&&!(G==(G+'').split(' ')[0]&&(G==F.split(' ')[0]||D))&&B.push(D?'('+G+')':'on '+G),B.length&&(W.description=B.join(' ')),W}var y={function:!0,object:!0},_=y['undefined'==typeof window?'undefined':a(window)]&&window||this,g=_,v=y[a(t)]&&t,x=y[a(e)]&&e&&!e.nodeType&&e,P=v&&x&&'object'==('undefined'==typeof o?'undefined':a(o))&&o;P&&(P.global===P||P.window===P||P.self===P)&&(_=P);var M=9007199254740991,E=/\bOpera/,S=this,O=Object.prototype,w=O.hasOwnProperty,C=O.toString,T=b();'object'==a(n(73))&&n(73)?(_.platform=T,r=function(){return T}.call(t,n,t,e),!(r!==void 0&&(e.exports=r))):v&&x?u(T,function(e,t){v[t]=e}):_.platform=T}).call(void 0)}).call(t,n(109)(e),n(71))},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.getTarget=function(e){return e.target}},function(e,t,n){'use strict';function o(e,t,n,o,r){var a,i,u=o,c=0;if(t in s){for(a=s[t],i=a.length,e===d&&(u=a.listener.bind(n,u)),c;c<i;c+=1)(0,l.call)(e,a[c],n,u,r);return u}return(0,l.call)(e,t,n,u,r),u}Object.defineProperty(t,'__esModule',{value:!0}),t.callEach=o;var r=n(8),a=n(17),l=n(110),i=(0,r.global)(),s=(0,a.create)(),d=i.Element.prototype.addEventListener;s.blur=['blur','touchcancel','touchleave'],s.blur.listener=function(e,t){return e.call(this,t)},s.click=['click','touchend'],s.click.listener=function(e,t){if(!t.touches||1===t.touches.length)return e.call(this,t)},s.focus=['focus','touchstart'],s.focus.listener=s.blur.listener},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onSubmit=function(e,t,n){return(0,o.on)('submit',e,t,n)};var o=n(7)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.keys=Object.keys},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.fragment=function(e){var t=(0,l.document)().createDocumentFragment();return e?(0,o.isCollection)(e)?(0,a.wrapAll)(e,t):(0,r.wrap)(e):t};var o=n(113),r=n(79),a=n(115),l=n(26)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.wrap=function(e,t){return(0,o.before)(e,null,t),t};var o=n(15)},function(e,t,n){'use strict';function o(e){return new Promise(function(t,n){var o=new c;o.addEventListener('load',function(){t(new p(o.responseText,{status:o.status||200}))}),o.addEventListener('error',function(){n(new f('Local request failed'))}),o.open('GET',e),o.send(null)})}function r(e,t,n,o){var r,l;return r=(0,i.create)(m),l=(0,i.create)(),r.options=l,o&&(r.target=o,r.originalTarget=(0,a.one)(h,o.ownerDocument)),r.url=e,l.headers=(0,i.create)(),l.headers['X-Requested-With']='XMLHttpRequest',l.method=t,'post'===t&&(l.body=n),r}Object.defineProperty(t,'__esModule',{value:!0}),t.request=r;var a=n(6),l=n(8),i=n(17),s=n(81),d=(0,l.global)(),u=d.fetch,c=d.XMLHttpRequest,p=d.Response,f=d.TypeError,m=(0,i.create)(),h='input[type=submit]:focus,button[type=submit]:focus,button:not([type]):focus,input[type=submit]:hover,button[type=submit]:hover,button:not([type]):hover,:not(input):hover,input[type=submit],button[type=submit],button:not([type])';m.body=function(e,t){return this.options.body.append(e,t),this},m.credentials=function(e){return this.options.credentials=e||'same-origin',this},m.fetch=function(e){var t=(0,i.create)();return t.request=this,s.queue.push(t),new Promise(function(n,o){t.request.resolve=n,t.trigger=e,t.reject=function(e){o(e),s.queue.next()},t.request.fetchRequest()})},m.retry=function(){return s.queue[0]&&s.queue[0].request===this?(s.queue.unshift(1),s.queue.next(),this):this},m.header=function(e,t){return this.options.headers[e]=t,this},m.option=function(e,t){return this.options[e]=t,this},m.fetchRequest=function(){var e=s.queue[0];if(!s.queue[1]){var t=e.request.url,n=e.request.negotiate(t);return n(t,e.request.options).then(e.trigger||e.request.resolve).then(s.queue.next)['catch'](e.reject)}},m.negotiate=function(e){return'file:///'===d.location.href.substr(0,8)&&/^\.|\//.test(e)?o:u}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=t.queue=[];n.next=function(){n.shift(),n.length&&n[0].request.fetchRequest()}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.clone=function(e,t){return e.cloneNode(t)}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isBoolean=function(e){return(0,r.getTypeOf)(e)===a||(0,o.getPrimitiveOf)(e)===a};var o=n(58),r=n(42),a='boolean'},function(e,t,n){'use strict';function o(e){return'-'.concat((0,r.toLowerCase)(e))}Object.defineProperty(t,'__esModule',{value:!0}),t.camelToDash=function(e){return e.replace(/([A-Z])/g,o)};var r=n(36)},function(e,t,n){'use strict';function o(e){return(0,r.toUpperCase)(e).replace('-','')}Object.defineProperty(t,'__esModule',{value:!0}),t.dashToCamel=function(e){return e.replace(/(-[a-z])/g,o)};var r=n(145)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onDelete=function(e,t,n){return(0,o.on)('keydown',e,function(e){if((0,r.matches)(e,!1,!1,!1,['Delete','Del'],46))return t.call(this,e)},n)};var o=n(7),r=n(20)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onLeft=function(e,t,n){return(0,o.on)('keydown',e,function(e){if((0,r.matches)(e,['ArrowLeft','Left'],37)&&!e.shiftKey&&!e.ctrlKey)return t.call(this,e)},n)};var o=n(7),r=n(20)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onRight=function(e,t,n){return(0,o.on)('keydown',e,function(e){if((0,r.matches)(e,['ArrowRight','Right'],39)&&!e.shiftKey&&!e.ctrlKey)return t.call(this,e)},n)};var o=n(7),r=n(20)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=t.OL_MATCHER=/^\s*\d+\.\s+/gm,o=t.OL_REPLACER=/^\s*\d+\.\s+/,r=t.UL_MATCHER=/^\s*[-•■]\s+/gm,a=t.UL_REPLACER=/^\s*[-•■]\s+/},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.select=function(e,t,n){var a=Number.isInteger,l=(0,o.document)().createRange(),i=(0,r.current)();return l.selectNodeContents(e),a(t)&&l.setStart(e,t),a(n)&&l.setEnd(e,n),i.removeAllRanges(),i.addRange(l),a(t)||i.collapseToEnd(),a(n)||i.collapseToStart(),e};var o=n(26),r=n(5)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.firstElement=function(e){return e.firstElementChild}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isCollapsedToNext=function(e){var t=e.target,n=(0,a.current)(),s=n.focusNode,d=(0,o.lastNode)(t),u=(0,r.nextElement)(t);return u&&n.isCollapsed&&(0,i.hasSameNodeName)(t,u)&&n.focusOffset===(0,l.text)(d).length&&d===s};var o=n(50),r=n(35),a=n(5),l=n(11),i=n(155)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.replace=function(e,t){return(0,o.parent)(t).replaceChild(e,t),e};var o=n(1)},function(e,t,n){'use strict';function o(e){e.focus()}Object.defineProperty(t,'__esModule',{value:!0}),t.focus=o;var r=n(5);o.node=function(){return(0,r.current)().focusNode},o.offset=function(){return(0,r.current)().focusOffset}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onShiftEnter=function(e,t,n){return(0,o.on)('keydown',e,function(e){if((0,r.matches)(e,!1,!1,!0,['Enter'],13))return t.call(this,e)},n)};var o=n(7),r=n(20)},function(e,t,n){'use strict';function o(e){var t=e.target;(0,s.prevent)(e),(0,p.next)(t,(0,m.editables)(t))}function r(e){var t=e.target,n=(0,c.closest)('section',t);(0,h.clean)(t),n&&(0,d.isEmpty)(t)&&(0,f.remove)(n)}Object.defineProperty(t,'__esModule',{value:!0}),t.listenH1=function(e){(0,l.onEnter)(e,o,!0),(0,i.onShiftEnter)(e,s.prevent,!0),(0,u.matches)('article > section h1',e)&&(0,a.onBack)(e,r,!0)};var a=n(59),l=n(31),i=n(95),s=n(3),d=n(23),u=n(28),c=n(14),p=n(67),f=n(4),m=n(32),h=n(10)},function(e,t,n){'use strict';function o(e,t){var n=(t.dataTransfer||t.target).files[0];e((0,l.blobToImage)(n))}Object.defineProperty(t,'__esModule',{value:!0}),t.imageFromInput=function(e,t){(0,r.onFileInput)(e,(0,a.curry)(o,t))};var r=n(183),a=n(12),l=n(98)},function(e,t,n){'use strict';function o(e){return s(e.src),e}Object.defineProperty(t,'__esModule',{value:!0}),t.blobToImage=function(e){return(0,l.blobToDataURL)(e).then(a.dataURLToImage).then(o)};var r=n(8),a=n(186),l=n(100),i=(0,r.global)(),s=i.URL.revokeObjectURL},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.once=function(e,t,n,a){var l=(0,r.on)(e,t,function(e){return(0,o.off)(e.type,t,l,a),n.call(this,e)},a);return l};var o=n(188),r=n(7)},function(e,t,n){'use strict';function o(e,t){var n=new d;n.addEventListener('load',(0,l.curry)(r,t)),n.readAsDataURL(e)}function r(e,t){e(t.target.result)}Object.defineProperty(t,'__esModule',{value:!0}),t.blobToDataURL=function(e){return(0,i.promise)(o,e)};var a=n(8),l=n(12),i=n(44),s=(0,a.global)(),d=s.FileReader},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onFile=function(e,t,n){return n.then((0,l.curry)(a.resizeImage,t)).then((0,l.curry)(o.compressImage,t)).then((0,l.curry)(r.imageToDataURL,t)).then((0,l.curry)(i.display,e))};var o=n(190),r=n(191),a=n(193),l=n(12),i=n(194)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.canvasToImage=function(e,t){return(0,r.canvasToBlob)(e,t).then(o.blobToImage)};var o=n(98),r=n(69)},function(e,t,n){'use strict';function o(e,t){var n=(0,a.update)((0,r.element)('canvas'),{width:e.naturalWidth,height:e.naturalHeight}),o=n.getContext('2d');o.fillStyle='transparent',o.fillRect(0,0,e.naturalWidth,e.naturalHeight),o.save(),o.drawImage(e,0,0),t(n)}Object.defineProperty(t,'__esModule',{value:!0}),t.imageToCanvas=function(e){return(0,l.promise)(o,e)};var r=n(13),a=n(41),l=n(44)},function(e,t,n){n(105),n(106),n(108),n(72),n(0),e.exports=n(117)},function(){'use strict';var e='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};(function(t){function n(e){return!!e&&(!!('Symbol'in t&&'iterator'in t.Symbol&&'function'==typeof e[Symbol.iterator])||!!Array.isArray(e))}function r(e){return'from'in Array?Array.from(e):Array.prototype.slice.call(e)}(function(){function o(e){var t='',n=!0;return e.forEach(function(e){var o=encodeURIComponent(e.name),r=encodeURIComponent(e.value);n||(t+='&'),t+=o+'='+r,n=!1}),t.replace(/%20/g,'+')}function a(e,t){var n=e.split('&');t&&-1===n[0].indexOf('=')&&(n[0]='='+n[0]);var o=[];n.forEach(function(e){if(0!==e.length){var t=e.indexOf('=');if(-1!==t)var n=e.substring(0,t),r=e.substring(t+1);else n=e,r='';n=n.replace(/\+/g,' '),r=r.replace(/\+/g,' '),o.push({name:n,value:r})}});var r=[];return o.forEach(function(e){r.push({name:decodeURIComponent(e.name),value:decodeURIComponent(e.value)})}),r}function l(e){if(c)return new p(e);var t=document.createElement('a');return t.href=e,t}function s(t){var l=this;this._list=[],void 0===t||null===t||(t instanceof s?this._list=a(t+''):'object'===('undefined'==typeof t?'undefined':e(t))&&n(t)?r(t).forEach(function(t){if(!n(t))throw TypeError();var e=r(t);if(2!==e.length)throw TypeError();l._list.push({name:e[0]+'',value:e[1]+''})}):'object'===('undefined'==typeof t?'undefined':e(t))&&t?Object.keys(t).forEach(function(e){l._list.push({name:e+'',value:t[e]+''})}):(t+='','?'===t.substring(0,1)&&(t=t.substring(1)),this._list=a(t))),this._url_object=null,this._setList=function(e){i||(l._list=e)};var i=!1;this._update_steps=function(){i||(i=!0,l._url_object&&('about:'===l._url_object.protocol&&-1!==l._url_object.pathname.indexOf('?')&&(l._url_object.pathname=l._url_object.pathname.split('?')[0]),l._url_object.search=o(l._list),i=!1))}}function d(e,t){var n=0;this.next=function(){if(n>=e.length)return{done:!0,value:void 0};var o=e[n++];return{done:!1,value:'key'===t?o.name:'value'===t?o.value:[o.name,o.value]}}}function u(e,n){function o(){var e=i.href.replace(/#$|\?$|\?(?=#)/g,'');i.href!==e&&(i.href=e)}function r(){f._setList(i.search?a(i.search.substring(1)):[]),f._update_steps()}if(!(this instanceof t.URL))throw new TypeError('Failed to construct \'URL\': Please use the \'new\' operator.');n&&(e=function(){if(c)return new p(e,n).href;var t;try{var o;if('[object OperaMini]'===Object.prototype.toString.call(window.operamini)?(t=document.createElement('iframe'),t.style.display='none',document.documentElement.appendChild(t),o=t.contentWindow.document):document.implementation&&document.implementation.createHTMLDocument?o=document.implementation.createHTMLDocument(''):document.implementation&&document.implementation.createDocument?(o=document.implementation.createDocument('http://www.w3.org/1999/xhtml','html',null),o.documentElement.appendChild(o.createElement('head')),o.documentElement.appendChild(o.createElement('body'))):window.ActiveXObject&&(o=new window.ActiveXObject('htmlfile'),o.write('<head></head><body></body>'),o.close()),!o)throw Error('base not supported');var r=o.createElement('base');r.href=n,o.getElementsByTagName('head')[0].appendChild(r);var a=o.createElement('a');return a.href=e,a.href}finally{t&&t.parentNode.removeChild(t)}}());var i=l(e||''),d=function(){if(!('defineProperties'in Object))return!1;try{var e={};return Object.defineProperties(e,{prop:{get:function(){return!0}}}),e.prop}catch(e){return!1}}(),u=d?this:document.createElement('a'),f=new s(i.search?i.search.substring(1):null);return f._url_object=u,Object.defineProperties(u,{href:{get:function(){return i.href},set:function(e){i.href=e,o(),r()},enumerable:!0,configurable:!0},origin:{get:function(){return'origin'in i?i.origin:this.protocol+'//'+this.host},enumerable:!0,configurable:!0},protocol:{get:function(){return i.protocol},set:function(e){i.protocol=e},enumerable:!0,configurable:!0},username:{get:function(){return i.username},set:function(e){i.username=e},enumerable:!0,configurable:!0},password:{get:function(){return i.password},set:function(e){i.password=e},enumerable:!0,configurable:!0},host:{get:function(){var e={"http:":/:80$/,"https:":/:443$/,"ftp:":/:21$/}[i.protocol];return e?i.host.replace(e,''):i.host},set:function(e){i.host=e},enumerable:!0,configurable:!0},hostname:{get:function(){return i.hostname},set:function(e){i.hostname=e},enumerable:!0,configurable:!0},port:{get:function(){return i.port},set:function(e){i.port=e},enumerable:!0,configurable:!0},pathname:{get:function(){return'/'===i.pathname.charAt(0)?i.pathname:'/'+i.pathname},set:function(e){i.pathname=e},enumerable:!0,configurable:!0},search:{get:function(){return i.search},set:function(e){i.search===e||(i.search=e,o(),r())},enumerable:!0,configurable:!0},searchParams:{get:function(){return f},enumerable:!0,configurable:!0},hash:{get:function(){return i.hash},set:function(e){i.hash=e,o()},enumerable:!0,configurable:!0},toString:{value:function(){return i.toString()},enumerable:!1,configurable:!0},valueOf:{value:function(){return i.valueOf()},enumerable:!1,configurable:!0}}),u}var c,p=t.URL;try{if(p){if(c=new t.URL('http://example.com'),'searchParams'in c)return;'href'in c||(c=void 0)}}catch(e){}if(Object.defineProperties(s.prototype,{append:{value:function(e,t){this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},delete:{value:function(e){for(var t=0;t<this._list.length;)this._list[t].name===e?this._list.splice(t,1):++t;this._update_steps()},writable:!0,enumerable:!0,configurable:!0},get:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return this._list[t].value;return null},writable:!0,enumerable:!0,configurable:!0},getAll:{value:function(e){for(var t=[],n=0;n<this._list.length;++n)this._list[n].name===e&&t.push(this._list[n].value);return t},writable:!0,enumerable:!0,configurable:!0},has:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return!0;return!1},writable:!0,enumerable:!0,configurable:!0},set:{value:function(e,t){for(var n=!1,o=0;o<this._list.length;)this._list[o].name===e?n?this._list.splice(o,1):(this._list[o].value=t,n=!0,++o):++o;n||this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},entries:{value:function(){return new d(this._list,'key+value')},writable:!0,enumerable:!0,configurable:!0},keys:{value:function(){return new d(this._list,'key')},writable:!0,enumerable:!0,configurable:!0},values:{value:function(){return new d(this._list,'value')},writable:!0,enumerable:!0,configurable:!0},forEach:{value:function(e){var t=1<arguments.length?arguments[1]:void 0;this._list.forEach(function(n){e.call(t,n.value,n.name)})},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return o(this._list)},writable:!0,enumerable:!1,configurable:!0}}),'Symbol'in t&&'iterator'in t.Symbol&&(Object.defineProperty(s.prototype,t.Symbol.iterator,{value:s.prototype.entries,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,t.Symbol.iterator,{value:function(){return this},writable:!0,enumerable:!0,configurable:!0})),p)for(var f in p)p.hasOwnProperty(f)&&'function'==typeof p[f]&&(u[f]=p[f]);t.URL=u,t.URLSearchParams=s})(),function(){if('1'!==new t.URLSearchParams([['a',1]]).get('a')||'1'!==new t.URLSearchParams({a:1}).get('a')){var a=t.URLSearchParams;t.URLSearchParams=function(t){if(t&&'object'===('undefined'==typeof t?'undefined':e(t))&&n(t)){var l=new a;return r(t).forEach(function(t){if(!n(t))throw TypeError();var e=r(t);if(2!==e.length)throw TypeError();l.append(e[0],e[1])}),l}return t&&'object'===('undefined'==typeof t?'undefined':e(t))?(l=new a,Object.keys(t).forEach(function(e){l.set(e,t[e])}),l):new a(t)}}}()})(self)},function(e,t,n){'use strict';(function(o,r){var a,l,i='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};(function(o,r){'object'===i(t)&&'undefined'!=typeof e?e.exports=r():(a=r,l='function'==typeof a?a.call(t,n,t,e):a,!(l!==void 0&&(e.exports=l)))})(void 0,function(){function e(e){var t='undefined'==typeof e?'undefined':i(e);return null!==e&&('object'===t||'function'===t)}function t(e){return'function'==typeof e}function n(){return'undefined'==typeof L?a():function(){L(l)}}function a(){var e=setTimeout;return function(){return e(l,1)}}function l(){for(var e=0;e<q;e+=2){var t=W[e],n=W[e+1];t(n),W[e]=void 0,W[e+1]=void 0}q=0}function s(e,t){var n=this,o=new this.constructor(u);void 0===o[z]&&C(o);var r=n._state;if(r){var a=arguments[r-1];j(function(){return S(r,o,a,n._result)})}else P(n,o,e,t);return o}function d(e){var t=this;if(e&&'object'===('undefined'==typeof e?'undefined':i(e))&&e.constructor===t)return e;var n=new t(u);return _(n,e),n}function u(){}function c(){return new TypeError('You cannot resolve a promise with itself')}function p(){return new TypeError('A promises callback cannot return that same promise.')}function f(e){try{return e.then}catch(e){return V.error=e,V}}function m(e,t,n,o){try{e.call(t,n,o)}catch(t){return t}}function h(e,t,n){j(function(e){var o=!1,r=m(n,t,function(n){o||(o=!0,t===n?v(e,n):_(e,n))},function(t){o||(o=!0,x(e,t))},'Settle: '+(e._label||' unknown promise'));!o&&r&&(o=!0,x(e,r))},e)}function b(e,t){t._state===X?v(e,t._result):t._state===$?x(e,t._result):P(t,void 0,function(t){return _(e,t)},function(t){return x(e,t)})}function y(e,n,o){n.constructor===e.constructor&&o===s&&n.constructor.resolve===d?b(e,n):o===V?(x(e,V.error),V.error=null):void 0===o?v(e,n):t(o)?h(e,n,o):v(e,n)}function _(t,n){t===n?x(t,c()):e(n)?y(t,n,f(n)):v(t,n)}function g(e){e._onerror&&e._onerror(e._result),M(e)}function v(e,t){e._state!==K||(e._result=t,e._state=X,0!==e._subscribers.length&&j(M,e))}function x(e,t){e._state!==K||(e._state=$,e._result=t,j(g,e))}function P(e,t,n,o){var r=e._subscribers,a=r.length;e._onerror=null,r[a]=t,r[a+X]=n,r[a+$]=o,0===a&&e._state&&j(M,e)}function M(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var o=void 0,r=void 0,a=e._result,l=0;l<t.length;l+=3)o=t[l],r=t[l+n],o?S(n,o,r,a):r(a);e._subscribers.length=0}}function E(e,t){try{return e(t)}catch(t){return V.error=t,V}}function S(e,n,o,r){var a,l,i,s,d=t(o);if(!d)a=r,i=!0;else if(a=E(o,r),a===V?(s=!0,l=a.error,a.error=null):i=!0,n===a)return void x(n,p());n._state!==K||(d&&i?_(n,a):s?x(n,l):e===X?v(n,a):e===$&&x(n,a))}function O(t,e){try{e(function(e){_(t,e)},function(e){x(t,e)})}catch(n){x(t,n)}}function w(){return J++}function C(e){e[z]=J++,e._state=void 0,e._result=void 0,e._subscribers=[]}function T(){return new Error('Array Methods must be provided an Array')}function k(){throw new TypeError('You must pass a resolver function as the first argument to the promise constructor')}function N(){throw new TypeError('Failed to construct \'Promise\': Please use the \'new\' operator, this object constructor cannot be called as a function.')}var A=Array.isArray?Array.isArray:function(e){return'[object Array]'===Object.prototype.toString.call(e)};var L,R,B,I=A,q=0,j=function(e,t){W[q]=e,W[q+1]=t,q+=2,2==q&&(R?R(l):B())},U='undefined'==typeof window?void 0:window,F=U||{},D=F.MutationObserver||F.WebKitMutationObserver,H='undefined'==typeof self&&'undefined'!=typeof o&&'[object process]'==={}.toString.call(o),G='undefined'!=typeof Uint8ClampedArray&&'undefined'!=typeof importScripts&&'undefined'!=typeof MessageChannel,W=Array(1e3);B=H?function(){return function(){return o.nextTick(l)}}():D?function(){var e=0,t=new D(l),n=document.createTextNode('');return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():G?function(){var e=new MessageChannel;return e.port1.onmessage=l,function(){return e.port2.postMessage(0)}}():void 0!==U||0?a():function(){try{var e=Function('return this')().require('vertx');return L=e.runOnLoop||e.runOnContext,n()}catch(t){return a()}}();var K,z=Math.random().toString(36).substring(2),X=1,$=2,V={error:null},J=0,Y=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(u),this.promise[z]||C(this.promise),I(t)?(this.length=t.length,this._remaining=t.length,this._result=Array(this.length),0===this.length?v(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&v(this.promise,this._result))):x(this.promise,T())}return e.prototype._enumerate=function(e){for(var t=0;this._state===K&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,o=n.resolve;if(o===d){var r=f(e);if(r===s&&e._state!==K)this._settledAt(e._state,t,e._result);else if('function'!=typeof r)this._remaining--,this._result[t]=e;else if(n===Q){var a=new n(u);y(a,e,r),this._willSettleAt(a,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(o(e),t)},e.prototype._settledAt=function(e,t,n){var o=this.promise;o._state===K&&(this._remaining--,e===$?x(o,n):this._result[t]=n),0===this._remaining&&v(o,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;P(e,void 0,function(e){return n._settledAt(X,t,e)},function(e){return n._settledAt($,t,e)})},e}(),Q=function(){function e(t){this[z]=w(),this._result=this._state=void 0,this._subscribers=[],u!==t&&('function'!=typeof t&&k(),this instanceof e?O(this,t):N())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,n=t.constructor;return t.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})})},e}();return Q.prototype.then=s,Q.all=function(e){return new Y(this,e).promise},Q.race=function(e){var t=this;return I(e)?new t(function(n,o){for(var r=e.length,a=0;a<r;a++)t.resolve(e[a]).then(n,o)}):new t(function(e,t){return t(new TypeError('You must pass an array to race.'))})},Q.resolve=d,Q.reject=function(e){var t=this,n=new t(u);return x(n,e),n},Q._setScheduler=function(e){R=e},Q._setAsap=function(e){j=e},Q._asap=j,Q.polyfill=function(){var e;if('undefined'!=typeof r)e=r;else if('undefined'!=typeof self)e=self;else try{e=Function('return this')()}catch(t){throw new Error('polyfill failed because global object is unavailable in this environment')}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(t){}if('[object Promise]'===n&&!t.cast)return}e.Promise=Q},Q.Promise=Q,Q.polyfill(),Q})}).call(t,n(107),n(71))},function(e){'use strict';function t(){throw new Error('setTimeout has not been defined')}function n(){throw new Error('clearTimeout has not been defined')}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===t||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function r(e){if(u===clearTimeout)return clearTimeout(e);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?f=p.concat(f):h=-1,f.length&&l())}function l(){if(!m){var e=o(a);m=!0;for(var t=f.length;t;){for(p=f,f=[];++h<t;)p&&p[h].run();h=-1,t=f.length}p=null,m=!1,r(e)}}function s(e,t){this.fun=e,this.array=t}function i(){}var d,u,c=e.exports={};(function(){try{d='function'==typeof setTimeout?setTimeout:t}catch(n){d=t}try{u='function'==typeof clearTimeout?clearTimeout:n}catch(t){u=n}})();var p,f=[],m=!1,h=-1;c.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new s(e,t)),1!==f.length||m||o(l)},s.prototype.run=function(){this.fun.apply(null,this.array)},c.title='browser',c.browser=!0,c.env={},c.argv=[],c.version='',c.versions={},c.on=i,c.addListener=i,c.once=i,c.off=i,c.removeListener=i,c.removeAllListeners=i,c.emit=i,c.prependListener=i,c.prependOnceListener=i,c.listeners=function(){return[]},c.binding=function(){throw new Error('process.binding is not supported')},c.cwd=function(){return'/'},c.chdir=function(){throw new Error('process.chdir is not supported')},c.umask=function(){return 0}},function(){'use strict';(function(e){function t(e){if('string'!=typeof e&&(e+=''),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError('Invalid character in header field name');return e.toLowerCase()}function n(e){return'string'!=typeof e&&(e+=''),e}function o(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return y.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){return e.bodyUsed?Promise.reject(new TypeError('Already read')):void(e.bodyUsed=!0)}function l(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function i(e){var t=new FileReader,n=l(t);return t.readAsArrayBuffer(e),n}function s(e){var t=new FileReader,n=l(t);return t.readAsText(e),n}function d(e){for(var t=new Uint8Array(e),n=Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join('')}function u(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,!e)this._bodyText='';else if('string'==typeof e)this._bodyText=e;else if(y.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(y.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(y.arrayBuffer&&y.blob&&g(e))this._bodyArrayBuffer=u(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else if(y.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||v(e)))this._bodyArrayBuffer=u(e);else throw new Error('unsupported BodyInit type');this.headers.get('content-type')||('string'==typeof e?this.headers.set('content-type','text/plain;charset=UTF-8'):this._bodyBlob&&this._bodyBlob.type?this.headers.set('content-type',this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set('content-type','application/x-www-form-urlencoded;charset=UTF-8'))},y.blob&&(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error('could not read FormData body as blob');else return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(i)}),this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(d(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error('could not read FormData body as text');else return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(e){var t=e.toUpperCase();return-1<x.indexOf(t)?t:e}function f(e,t){t=t||{};var n=t.body;if(e instanceof f){if(e.bodyUsed)throw new TypeError('Already read');this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e+'';if(this.credentials=t.credentials||this.credentials||'omit',(t.headers||!this.headers)&&(this.headers=new r(t.headers)),this.method=p(t.method||this.method||'GET'),this.mode=t.mode||this.mode||null,this.referrer=null,('GET'===this.method||'HEAD'===this.method)&&n)throw new TypeError('Body not allowed for GET or HEAD requests');this._initBody(n)}function m(e){var t=new FormData;return e.trim().split('&').forEach(function(e){if(e){var n=e.split('='),o=n.shift().replace(/\+/g,' '),r=n.join('=').replace(/\+/g,' ');t.append(decodeURIComponent(o),decodeURIComponent(r))}}),t}function h(e){var t=new r;return e.split(/\r?\n/).forEach(function(e){var n=e.split(':'),o=n.shift().trim();if(o){var r=n.join(':').trim();t.append(o,r)}}),t}function b(e,t){t||(t={}),this.type='default',this.status='status'in t?t.status:200,this.ok=200<=this.status&&300>this.status,this.statusText='statusText'in t?t.statusText:'OK',this.headers=new r(t.headers),this.url=t.url||'',this._initBody(e)}if(!e.fetch){var y={searchParams:'URLSearchParams'in e,iterable:'Symbol'in e&&'iterator'in Symbol,blob:'FileReader'in e&&'Blob'in e&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:'FormData'in e,arrayBuffer:'ArrayBuffer'in e};if(y.arrayBuffer)var _=['[object Int8Array]','[object Uint8Array]','[object Uint8ClampedArray]','[object Int16Array]','[object Uint16Array]','[object Int32Array]','[object Uint32Array]','[object Float32Array]','[object Float64Array]'],g=function(e){return e&&DataView.prototype.isPrototypeOf(e)},v=ArrayBuffer.isView||function(e){return e&&-1<_.indexOf(Object.prototype.toString.call(e))};r.prototype.append=function(e,o){e=t(e),o=n(o);var r=this.map[e];this.map[e]=r?r+','+o:o},r.prototype['delete']=function(e){delete this.map[t(e)]},r.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,o){this.map[t(e)]=n(o)},r.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},r.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),o(e)},r.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),o(e)},y.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var x=['DELETE','GET','HEAD','OPTIONS','POST','PUT'];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},c.call(f.prototype),c.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:''});return e.type='error',e};var P=[301,302,303,307,308];b.redirect=function(e,t){if(-1===P.indexOf(t))throw new RangeError('Invalid status code');return new b(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=f,e.Response=b,e.fetch=function(e,t){return new Promise(function(n,o){var r=new f(e,t),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:h(a.getAllResponseHeaders()||'')};e.url='responseURL'in a?a.responseURL:e.headers.get('X-Request-URL');var t='response'in a?a.response:a.responseText;n(new b(t,e))},a.onerror=function(){o(new TypeError('Network request failed'))},a.ontimeout=function(){o(new TypeError('Network request failed'))},a.open(r.method,r.url,!0),'include'===r.credentials&&(a.withCredentials=!0),'responseType'in a&&y.blob&&(a.responseType='blob'),r.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send('undefined'==typeof r._bodyInit?null:r._bodyInit)})},e.fetch.polyfill=!0}})('undefined'==typeof self?void 0:self)},function(e){'use strict';e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,'loaded',{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,'id',{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){'use strict';function n(e,t,n,o,r){'on'.concat(t)in n&&e.call(n,t,o,r)}Object.defineProperty(t,'__esModule',{value:!0}),t.call=n},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.rects=function(e){return e.getClientRects()}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.toDOM=function(e){return(0,r.fragment)((0,a.nodes)((0,l.html)((0,o.element)('body'),e)))};var o=n(13),r=n(78),a=n(22),l=n(55)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isCollection=function(e){return(0,r.isInstanceOf)(l,e)||(0,r.isInstanceOf)(i,e)};var o=n(8),r=n(114),a=(0,o.global)(),l=a.HTMLCollection,i=a.NodeList},function(e,t,n){'use strict';function o(e,t){return!((0,r.isNull)(t)||(0,a.isUndefined)(t))&&(t=l(Object(t)),t===e.prototype||o(e,t))}Object.defineProperty(t,'__esModule',{value:!0}),t.isInstanceOf=o;var r=n(37),a=n(53),l=Object.getPrototypeOf},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.wrapAll=function(e,t){return(0,o.forEach)((0,r.slice)(e,0),function(e){(0,a.wrap)(e,t)}),t};var o=n(21),r=n(54),a=n(79)},function(e,t,n){'use strict';function o(e){return(0,i.isElement)(e)&&(e.hasAttributes()&&(0,a.forEach)(e.attributes,r),(0,a.forEach)((0,s.elements)(e),o)),e}function r(e){'on'===(0,l.toLowerCase)(e.name.substr(0,2))&&e.ownerElement.removeAttribute(e.name)}Object.defineProperty(t,'__esModule',{value:!0}),t.sanitize=o;var a=n(21),l=n(36),i=n(27),s=n(56)},function(e,t,n){'use strict';var o=n(0),r=n(2),a=n(76);n(118),n(208),n(209);o.anticore.on('body > header a:not([download]):not([target]):not([href^="data:"]),body > header a[target=_self]:not([download]):not([href^="data:"]),main > :not(form) a:not([download]):not([target]):not([href^="data:"]),main > :not(form) a[target=_self]:not([download]):not([href^="data:"]),body > footer a:not([download]):not([target]):not([href^="data:"]),body > footer a[target=_self]:not([download]):not([href^="data:"]),button[data-href]',function(e,t){(0,r.onClick)(e,o.anticore.fetchFromEvent),t()}),o.anticore.on('form:not([target]),form[target=_self]',function(e,t){(0,a.onSubmit)(e,o.anticore.cleanAndFetch),t()}),o.anticore.fetchers.a=o.anticore.fetchers.button=function(e){return o.anticore.request(e.dataset.href||e.href,'get',null,e)},o.anticore.populate()},function(e,t,n){'use strict';n(119)},function(e,t,n){'use strict';n(120),n(147),n(178),n(196)},function(e,t,n){'use strict';n(121),n(135),n(140)},function(e,t,n){'use strict';n(122),n(123),n(124),n(125),n(126),n(133),n(134)},function(e,t,n){'use strict';function o(){}var r=n(0),a=n(2);r.anticore.on('form article .options button.delete',function(e,t){(0,a.onClick)(e,o),t()})},function(e,t,n){'use strict';function o(){}var r=n(0),a=n(2);r.anticore.on('form article .options button.edit',function(e,t){(0,a.onClick)(e,o),t()})},function(e,t,n){'use strict';function o(){}var r=n(0),a=n(2);r.anticore.on('form article .options button.publish',function(e,t){(0,a.onClick)(e,o),t()})},function(e,t,n){'use strict';function o(e){e.target.ownerDocument.execCommand('redo')}var r=n(0),a=n(2);r.anticore.on('form article .options button.redo',function(e,t){(0,a.onClick)(e,o),t()})},function(e,t,n){'use strict';function o(e){var t,n=(0,i.closest)('form',e.target),o=(0,s.one)('article',n);(0,u.clean)(o),t=(0,d.clone)(o,!0),n.elements.article.value=t.outerHTML,(0,l.prevent)(e),console.log(n.elements.article.value.replace(/<br>/g,'<br />'))}var r=n(0),a=n(2),l=n(3),i=n(14),s=n(6),d=n(82),u=n(10);r.anticore.on('form button:not([type])',function(e,t){(0,a.onClick)(e,o),t()})},function(e,t,n){'use strict';function o(e){return!e||(0,r.isEmpty)(e)||(0,d.isReturn)(e)}Object.defineProperty(t,'__esModule',{value:!0}),t.isTrailingReturn=function(e){return(0,d.isReturn)(e)&&('h1'===(0,a.nodeName)((0,i.parent)(e))||o((0,s.previousNode)(e))||o((0,l.nextNode)(e)))};var r=n(23),a=n(18),l=n(57),i=n(1),s=n(128),d=n(129)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.previousNode=function(e){return e.previousSibling}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isReturn=function(e){return e&&'br'===(0,o.nodeName)(e)};var o=n(18)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isTrailingStyle=function(e){return e&&-1<(0,a.indexOf)(['b','i','s','u'],(0,r.nodeName)(e))&&(0,o.isEmpty)(e)};var o=n(23),r=n(18),a=n(9)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.returns=function(e){return(0,o.all)('br',e)};var o=n(33)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.styles=function(e){return(0,o.all)('b, i, s, u',e)};var o=n(33)},function(e,t,n){'use strict';function o(e){e.target.ownerDocument.execCommand('undo')}var r=n(0),a=n(2);r.anticore.on('form article .options button.undo',function(e,t){(0,a.onClick)(e,o),t()})},function(e,t,n){'use strict';function o(){}var r=n(0),a=n(2);r.anticore.on('form article .options button.unpublish',function(e,t){(0,a.onClick)(e,o),t()})},function(e,t,n){'use strict';n(136),n(137),n(138),n(139)},function(e,t,n){'use strict';function o(){var e=(0,i.current)();(0,s.isHeadingNode)(e.anchorNode)||(0,s.isHeadingNode)(e.focusNode)||(0,l.one)().execCommand('bold')}var r=n(0),a=n(2),l=n(6),i=n(5),s=n(38);r.anticore.on('form.editor .options button.bold',function(e,t){(0,a.onClick)(e,o),t()})},function(e,t,n){'use strict';function o(){var e=(0,i.current)();(0,s.isHeadingNode)(e.anchorNode)||(0,s.isHeadingNode)(e.focusNode)||(0,l.one)().execCommand('italic')}var r=n(0),a=n(2),l=n(6),i=n(5),s=n(38);r.anticore.on('form.editor .options button.italic',function(e,t){(0,a.onClick)(e,o),t()})},function(e,t,n){'use strict';function o(){var e=(0,i.current)();(0,s.isHeadingNode)(e.anchorNode)||(0,s.isHeadingNode)(e.focusNode)||(0,l.one)().execCommand('strikeThrough')}var r=n(0),a=n(2),l=n(6),i=n(5),s=n(38);r.anticore.on('form.editor .options button.strike',function(e,t){(0,a.onClick)(e,o),t()})},function(e,t,n){'use strict';function o(){var e=(0,i.current)();(0,s.isHeadingNode)(e.anchorNode)||(0,s.isHeadingNode)(e.focusNode)||(0,l.one)().execCommand('underline')}var r=n(0),a=n(2),l=n(6),i=n(5),s=n(38);r.anticore.on('form.editor .options button.underline',function(e,t){(0,a.onClick)(e,o),t()})},function(e,t,n){'use strict';n(141),n(142),n(143)},function(e,t,n){'use strict';function o(e){var t=d.anchor.node();return(!(0,u.isCollapsed)()||!(0,s.closestOrSelf)('[contenteditable=true]',t)||(0,s.closestOrSelf)('h1, a, b, i, s, o',t)||!(0,i.closest)('article > section, article footer .sources',t))&&(0,l.prevent)(e)}var r=n(0),a=n(2),l=n(3),i=n(14),s=n(34),d=n(39),u=n(40);r.anticore.on('form.editor .options button.anchor',function(e,t){(0,a.onClick)(e,o),t()})},function(e,t,n){'use strict';function o(e){var t=d.anchor.node();return(!(0,u.isCollapsed)()||!(0,s.closestOrSelf)('[contenteditable=true]',t)||(0,s.closestOrSelf)('h1, a, b, i, s, o',t)||!(0,i.closest)('article > section',t))&&(0,l.prevent)(e)}var r=n(0),a=n(2),l=n(3),i=n(14),s=n(34),d=n(39),u=n(40);r.anticore.on('form.editor .options button.figure',function(e,t){(0,a.onClick)(e,o),t()})},function(e,t,n){'use strict';function o(e){var t=p.anchor.node(),n=!(0,m.isCollapsed)()||!(0,c.closestOrSelf)('[contenteditable=true]',t)||(0,c.closestOrSelf)('h1, a',t)||!(0,u.closest)('article > section',t);return n?(0,s.prevent)(e):void r()}function r(){var e=(0,d.element)('a'),t=(0,d.element)('sup');(0,h.append)(t,e),a((0,b.update)(e,{contenteditable:!1,href:'#'}))}function a(e){var t=(0,f.current)(),n=t.getRangeAt(0);return n.deleteContents(),n.insertNode(e),t.collapseToEnd(),t}var l=n(0),i=n(2),s=n(3),d=n(13),u=n(14),c=n(34),p=n(39),f=n(5),m=n(40),h=n(19),b=n(41);l.anticore.on('form.editor .options button.source',function(e,t){(0,i.onClick)(e,o),t()})},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isObject=function(e){return'object'===(0,o.getTypeOf)(e)};var o=n(42)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.toUpperCase=void 0;var o=n(25),r=t.toUpperCase=(0,o.demethodize)(String.prototype.toUpperCase)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.style=function(e,t,n){return(0,d.isString)(n)||(0,l.isNumber)(n)||(0,a.isNull)(n)?(e.style[(0,s.dashToCamel)(t)]=n,e):u(e)[(0,i.camelToDash)(t)]};var o=n(8),r=n(25),a=n(37),l=n(45),i=n(84),s=n(85),d=n(46),u=(0,r.demethodize)((0,o.global)().getComputedStyle)},function(e,t,n){'use strict';n(148),n(174),n(176)},function(e,t,n){'use strict';var o=n(0),r=n(6),a=n(19),l=n(15);n(149),n(169),o.anticore.on('section.quiz',function(e,t){var n=(0,r.one)('form article footer'),o=(0,r.one)('section.quiz',n);o?(0,a.append)((0,r.one)('details',e),o):(0,l.before)(e,(0,r.one)('section.sources, section.tags',n)),t()})},function(e,t,n){'use strict';var o=n(0),r=n(30);o.anticore.on('section.quiz p[contenteditable=true]',function(e,t){(0,r.listenP)(e),t()})},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onListPrefix=function(e,t,n){return(0,o.on)('keydown',e,function(e){var n=(0,r.text)(e.target).trim();if(a.OL_MATCHER.test(n)||a.UL_MATCHER.test(n))return t.call(this,e)},n)};var o=n(7),r=n(11),a=n(89)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onBackEvent=function(e){var t,n=e.target,_=(0,s.current)(),g=_.anchorNode,v=_.anchorOffset;if(_.isCollapsed){if(!v&&(0,r.isText)(g)||g===n&&v){v||(g=(0,i.parent)(g));var x=(0,l.nodes)(g);v=v||(0,f.indexOf)(x,_.anchorNode);var P=x[v];if((0,r.isText)(P)){console.log(2);var M=x[v-1];if('a'===(0,a.nodeName)(M))return console.log(3),(0,p.remove)(M),(0,o.prevent)(e)}}(0,u.starts)(n)&&(!(0,m.isFirstP)(n)&&(t=(0,d.previous)(n,(0,b.editables)(n)),t&&!(0,h.isHeadingNode)(t)&&g&&((0,r.isText)(t)&&(t=(0,i.parent)(t)),(0,c.appendAll)((0,l.nodes)(n),t),(0,y.clean)(t),(0,p.remove)(n))),(0,o.prevent)(e))}};var o=n(3),r=n(29),a=n(18),l=n(22),i=n(1),s=n(5),d=n(48),u=n(51),c=n(24),p=n(4),f=n(9),m=n(62),h=n(38),b=n(32),y=n(10)},function(e,t,n){'use strict';function o(e){return(0,r.lastNode)(e)?o((0,r.lastNode)(e)):e}Object.defineProperty(t,'__esModule',{value:!0}),t.lastOrSelf=o;var r=n(50)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onBlurEvent=function(e){var t=e.target;!(0,l.clean)(t)||(0,a.isFirstP)(t)||(0,o.matches)(i,t)||(0,r.remove)(t)};var o=n(28),r=n(4),a=n(62),l=n(10),i='form article section p:first-of-type'},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onDeleteEvent=function(e){var t=e.target,n=(0,r.nextElement)(t);(0,s.isCollapsedToNext)(e)&&((0,l.appendAll)((0,a.nodes)(n),t),(0,d.clean)(t),(0,i.remove)(n),(0,o.prevent)(e))};var o=n(3),r=n(35),a=n(22),l=n(24),i=n(4),s=n(92),d=n(10)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.hasSameNodeName=function(e,t){return(0,o.nodeName)(e)===(0,o.nodeName)(t)};var o=n(18)},function(e,t,n){'use strict';function o(e){var t=s.anchor.node(),n=s.anchor.offset();return!(0,d.isCollapsed)()||(0,a.isEmpty)(e)||(0,a.isEmpty)(t)||(0,f.isFirstP)(e)&&(0,c.starts)(e)||!n&&t===e}Object.defineProperty(t,'__esModule',{value:!0}),t.onEnterEvent=function(e){var t,n=e.target,a=s.anchor.node(),d=s.anchor.offset();return o(n)?(0,r.prevent)(e):a===n?void(t=(0,h.cut)(a,d),t.normalize(),(0,m.clean)(n),(0,m.clean)(t),(0,b.listenP)(t),(0,p.before)(t,(0,l.nextElement)(n),(0,i.parent)(n)),(0,u.start)(t),(0,r.prevent)(e)):void(0,m.clean)(n)};var r=n(3),a=n(23),l=n(35),i=n(1),s=n(39),d=n(40),u=n(63),c=n(51),p=n(15),f=n(62),m=n(10),h=n(64),b=n(30)},function(e,t,n){'use strict';function o(e){return(0,r.firstNode)(e)?o((0,r.firstNode)(e)):e}Object.defineProperty(t,'__esModule',{value:!0}),t.firstOrSelf=o;var r=n(43)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.nextNodes=function(e){var t=(0,a.nodes)((0,l.parent)(e));return(0,r.slice)(t,(0,o.indexOf)(t,e)+1)};var o=n(9),r=n(54),a=n(22),l=n(1)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onLeftEvent=function(e){var t=e.target,n=(0,a.current)(),c=n.anchorNode,p=n.anchorOffset;(0,a.current)().isCollapsed&&(!(-1<(0,s.indexOf)([t,(0,r.firstNode)(t)],c))||p||((0,l.previous)(t,(0,d.editables)(t)),(0,u.clean)(t)&&(0,i.remove)(t),(0,o.prevent)(e)))};var o=n(3),r=n(43),a=n(5),l=n(48),i=n(4),s=n(9),d=n(32),u=n(10)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onListPrefixInput=function(e){(0,o.list)(e)};var o=n(161)},function(e,t,n){'use strict';function o(e,t,n){var o=(0,l.element)(e);(0,d.appendAll)(t,o),(0,c.replace)(o,n),(0,s.end)((0,i.lastNode)(o))}function r(e,t,n){return n.match(e).map((0,f.curry)(a,t))}function a(e,t){var n=(0,l.element)('li');return(0,u.attr)(n,'contenteditable',!0),(0,m.listenLi)(n),(0,p.text)(n,t.replace(e,'')),n}Object.defineProperty(t,'__esModule',{value:!0}),t.list=function(e){var t=e.target,n=(0,p.text)(t).trim();n.match(h.OL_MATCHER)?o('ol',r(h.OL_MATCHER,h.OL_REPLACER,n),t):o('ul',r(h.UL_MATCHER,h.UL_REPLACER,n),t)};var l=n(13),i=n(50),s=n(49),d=n(24),u=n(16),c=n(93),p=n(11),f=n(12),m=n(52),h=n(89)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onBackEvent=function(e){var t,n=e.target,v=(0,s.current)(),x=v.anchorNode;if(v.isCollapsed&&(0,u.starts)(n)){if(!(0,b.isFirstLi)(n))t=(0,d.previous)(n,(0,y.editables)(n)),t&&x&&((0,r.isText)(t)&&(t=(0,i.parent)(t)),(0,p.appendAll)((0,l.nodes)(n),t),(0,_.clean)(t),(0,f.remove)(n));else{var P=(0,i.parent)(n);(0,_.clean)(P),((0,h.text)(P)||'').trim().length||(t=(0,a.element)('p'),(0,c.attr)(t,'contenteditable',!0),(0,g.listenP)(t),(0,m.replace)(t,P))}(0,o.prevent)(e)}};var o=n(3),r=n(29),a=n(13),l=n(22),i=n(1),s=n(5),d=n(48),u=n(51),c=n(16),p=n(24),f=n(4),m=n(93),h=n(11),b=n(65),y=n(32),_=n(10),g=n(30)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onBlurEvent=function(e){var t=e.target;!(0,a.clean)(t)||(0,r.isFirstLi)(t)||(0,o.remove)(t)};var o=n(4),r=n(65),a=n(10)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onDeleteEvent=function(e){var t=e.target,n=(0,r.nextElement)(t);(0,s.isCollapsedToNext)(e)&&((0,l.appendAll)((0,a.nodes)(n),t),(0,d.clean)(t),(0,i.remove)(n),(0,o.prevent)(e))};var o=n(3),r=n(35),a=n(22),l=n(24),i=n(4),s=n(92),d=n(10)},function(e,t,n){'use strict';function o(e){var t=m.anchor.node(),n=m.anchor.offset(),o=(0,f.parent)(e);return!(0,p.isCollapsed)()||(0,a.isEmpty)(e)||(0,a.isEmpty)(t)||(0,x.isFirstLi)(e)&&(0,b.starts)(e)||!n&&t===e||(0,l.matches)('form article > footer > .tags ul',o)&&5<(0,i.elements)(o).length}Object.defineProperty(t,'__esModule',{value:!0}),t.onEnterEvent=function(e){var t,n=e.target,i=m.anchor.node(),b=m.anchor.offset();if((0,r.prevent)(e),(0,a.isEmpty)(n)&&(0,l.matches)('form article > section li + li',n)){var x=(0,f.parent)(n);if((0,c.lastNode)(x)===n){var O=(0,s.element)('p');return(0,d.attr)(O,'contenteditable',!0),(0,g.after)(O,x),(0,S.listenP)(O),(0,v.remove)(n),void(0,y.focus)(O)}}o(n)||(t=(0,M.cut)(i,b),t.normalize(),(0,P.clean)(n),(0,P.clean)(t),(0,E.listenLi)(t),(0,_.before)(t,(0,u.nextElement)(n),(0,f.parent)(n)),(0,h.start)(t))};var r=n(3),a=n(23),l=n(28),i=n(56),s=n(13),d=n(16),u=n(35),c=n(50),f=n(1),m=n(39),p=n(40),h=n(63),b=n(51),y=n(94),_=n(15),g=n(66),v=n(4),x=n(65),P=n(10),M=n(64),E=n(52),S=n(30)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onLeftEvent=function(e){var t=e.target,n=(0,a.current)(),c=n.anchorNode,p=n.anchorOffset;(0,a.current)().isCollapsed&&(!(-1<(0,s.indexOf)([t,(0,r.firstNode)(t)],c))||p||((0,l.previous)(t,(0,d.editables)(t)),(0,u.clean)(t)&&(0,i.remove)(t),(0,o.prevent)(e)))};var o=n(3),r=n(43),a=n(5),l=n(48),i=n(4),s=n(9),d=n(32),u=n(10)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onRightEvent=function(e){var t=e.target,n=(0,r.current)(),c=n.anchorNode,p=n.anchorOffset;!(0,r.current)().isCollapsed||-1<(0,s.indexOf)([t,t.lastChild],c)&&p===(0,i.text)(c).length&&((0,a.next)(t,(0,d.editables)(t)),(0,u.clean)(t)&&(0,l.remove)(t),(0,o.prevent)(e))};var o=n(3),r=n(5),a=n(67),l=n(4),i=n(11),s=n(9),d=n(32),u=n(10)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onRightEvent=function(e){var t=e.target,n=(0,r.current)(),c=n.anchorNode,p=n.anchorOffset;!(0,r.current)().isCollapsed||-1<(0,s.indexOf)([t,t.lastChild],c)&&p===(0,i.text)(c).length&&((0,a.next)(t,(0,d.editables)(t)),(0,u.clean)(t)&&(0,l.remove)(t),(0,o.prevent)(e))};var o=n(3),r=n(5),a=n(67),l=n(4),i=n(11),s=n(9),d=n(32),u=n(10)},function(e,t,n){'use strict';var o=n(0),r=n(170);o.anticore.on('section.quiz summary',function(e,t){(0,r.listenSummary)(e),t()})},function(e,t,n){'use strict';function o(e){x=!0,(0,p.prevent)(e),(0,b.insert)('\xA0')}function r(e){if(x)return(0,p.prevent)(e),x=!1,!1}function a(e){var t=e.target,n=(0,f.closest)('details',t);(0,p.prevent)(e),(0,y.attr)(n,'open',!0),(0,h.end)((0,m.one)('summary + [contenteditable=true]',n))}function l(e){var t=e.target,n=(0,f.closest)('details',t),o=(0,f.closest)('section',n);(0,g.text)(t,(0,g.text)(t).replace(/ /g,' ')),(0,v.clean)(o),(0,g.text)(n).trim()||(0,_.remove)(n),(0,m.one)('details',o)||(0,_.remove)(o)}Object.defineProperty(t,'__esModule',{value:!0}),t.listenSummary=function(e){(0,d.onEnter)(e,a,!0),(0,u.onShiftEnter)(e,p.prevent,!0),(0,i.onBlur)(e,l,!0),(0,c.onSpace)(e,o,!0),(0,s.onClick)(e,r,!0)};var i=n(60),s=n(2),d=n(31),u=n(95),c=n(171),p=n(3),f=n(14),m=n(6),h=n(49),b=n(172),y=n(16),_=n(4),g=n(11),v=n(10),x=!1},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onSpace=function(e,t,n){return(0,o.on)('keydown',e,function(e){if((0,r.matches)(e,!1,!1,!1,[' ','Spacebar'],32))return t.call(this,e)},n)};var o=n(7),r=n(20)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.insert=function(e){var t=(0,i.current)(),n=t.getRangeAt(0);return((0,a.isString)(e)||(0,r.isNumber)(e)||(0,o.isBoolean)(e))&&(e=(0,l.text)(e)),n.deleteContents(),n.insertNode(e),t.collapseToEnd(),t};var o=n(83),r=n(45),a=n(46),l=n(173),i=n(5)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.text=function(e){return(0,o.document)().createTextNode(e)};var o=n(26)},function(e,t,n){'use strict';var o=n(0),r=n(6),a=n(19),l=n(15);n(175),o.anticore.on('section.sources',function(e,t){var n=(0,r.one)('form article footer'),o=(0,r.one)('section.sources',n);o?(0,a.append)((0,r.one)('li',e),(0,r.one)('ol',o)):(0,l.before)(e,(0,r.one)('section.tags',n)),t()})},function(e,t,n){'use strict';function o(e,t){var n=new g(function(n){if(-1<(0,b.indexOf)(n[0].removedNodes,t)){var o=(0,d.parent)(e);if((0,c.remove)(e),!o)return;(0,m.isEmpty)(o)?(0,c.remove)((0,d.parent)(o)):r((0,s.one)('li',o))}});n.observe((0,d.parent)(t),{childList:!0})}function r(e){var t=(0,i.all)('article a[href^="#"]'),n=(0,i.all)('article footer .sources li'),r=[],a=0;(0,h.forEach)(t,function(t,l){var i=e,d='source'.concat(l+1);'#'!==(0,p.attr)(t,'href')&&(i=n[a],a+=1),(0,f.text)((0,s.one)('sup',t),l+1),t.href='#'.concat(d),i.id=d,r.push(i),o(i,t)}),(0,y.listenLi)(e),setTimeout(function(){(0,u.appendAll)(r,(0,s.one)('article footer .sources ol'))},0)}var a=n(0),l=n(8),i=n(33),s=n(6),d=n(1),u=n(24),c=n(4),p=n(16),f=n(11),m=n(23),h=n(21),b=n(9),y=n(52),_=(0,l.global)(),g=_.MutationObserver;a.anticore.on('section.sources li[contenteditable=true]',function(e,t){r(e),t()})},function(e,t,n){'use strict';n(177)},function(e,t,n){'use strict';var o=n(0),r=n(52);o.anticore.on('section.tags li[contenteditable=true]',function(e,t){(0,r.listenLi)(e),t()})},function(e,t,n){'use strict';n(179),n(180),n(195)},function(e,t,n){'use strict';var o=n(0),r=n(96);o.anticore.on('header h1[contenteditable=true]',function(e,t){(0,r.listenH1)(e),t()})},function(e,t,n){'use strict';var o=n(0),r=n(181);o.anticore.on('article header img',function(e,t){(0,r.listenImg)(e),t()})},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.listenImg=function(e){(0,o.onClick)(e,(0,r.image)(e))};var o=n(2),r=n(182)},function(e,t,n){'use strict';function o(e){var t=(0,f.create)(),n=(0,f.create)();return n.mime='image/jpeg',n.maxSize=35e3,n.quality=1,n.width=48,n.height=48,t.handle=e,t.show=(0,p.curry)(b.show,t),t.close=(0,p.curry)(r,t),t.nextOrClose=(0,p.curry)(m.nextOrClose,t),t.element=(0,c.update)((0,i.element)('section'),{class:'modal img'}),t.h1=(0,c.update)((0,i.element)('h1'),{parent:t.element,text:(0,d.data)(e.element,'h1')}),(0,d.data)(e.element,'h1',null),t.closer=(0,c.update)((0,i.element)('button'),{class:'closer',text:'\xD7',onClick:t.close,parent:t.element}),t.labels=[],t.inputs=[],t.labels.alt=(0,c.update)((0,i.element)('label'),{parent:t.element,text:(0,d.data)(e.element,'alt')}),t.labels.push(t.labels.alt),(0,d.data)(e.element,'alt',null),t.inputs.alt=(0,c.update)((0,i.element)('input'),{parent:t.labels.alt,onKeyUp:function(t){(0,s.attr)(e.element,'alt',t.target.value)}}),t.inputs.push(t.inputs.alt),(0,l.onEnter)(t.inputs.alt,t.nextOrClose),t.labels.src=(0,c.update)((0,i.element)('label'),{parent:t.element,text:(0,d.data)(e.element,'src')}),t.labels.push(t.labels.src),(0,d.data)(e.element,'src',null),t.inputs.src=(0,c.update)((0,i.element)('input'),{parent:t.labels.src,type:'file',onKeyUp:function(t){(0,s.attr)(e.element,'href',t.target.value)}}),t.inputs.push(t.inputs.src),(0,a.imageFromInput)(t.inputs.src,(0,p.curry)(h.onFile,t,n)),(0,l.onEnter)(t.inputs.src,t.nextOrClose),t}function r(e){var t=e.inputs,n=t.alt.value,o=t.src.value;n.length&&o.length||((0,s.attr)(e.handle.element,'alt',null),(0,s.attr)(e.handle.element,'src',null)),(0,u.remove)(e.element)}Object.defineProperty(t,'__esModule',{value:!0}),t.image=function(e){var t=(0,f.create)();return t.element=e,t.img=e,t.tooltip=o(t),t.tooltip.show};var a=n(97),l=n(31),i=n(13),s=n(16),d=n(47),u=n(4),c=n(41),p=n(12),f=n(17),m=n(68),h=n(101),b=n(70)},function(e,t,n){'use strict';function o(e,t){'drop'===t.type&&(0,a.prevent)(t),e.call(this,t)}Object.defineProperty(t,'__esModule',{value:!0}),t.onFileInput=function(e,t,n){if('input'===(0,r.nodeName)(e)&&'file'===e.type)return t=o.bind(e,t),(0,l.onChange)(e,t,n),(0,i.onDrop)(e,t,n),t};var r=n(18),a=n(3),l=n(184),i=n(185)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onChange=function(e,t,n){return(0,o.on)('change',e,t,n)};var o=n(7)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onDrop=function(e,t,n){return(0,o.on)('drop',e,t,n)};var o=n(7)},function(e,t,n){'use strict';function o(e,t,n){var o=new u;o.src=e,(0,l.onceLoad)(o,t),(0,a.onceError)(o,n)}Object.defineProperty(t,'__esModule',{value:!0}),t.dataURLToImage=function(e){return(0,s.promise)(o,e).then(r.getTarget)};var r=n(74),a=n(187),l=n(189),i=n(8),s=n(44),d=(0,i.global)(),u=d.Image},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onceError=function(e,t,n){return(0,o.once)('error',e,t,n)};var o=n(99)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.off=void 0;var o=n(8),r=n(75),a=(0,o.global)(),l=t.off=r.callEach.bind(null,a.Element.prototype.removeEventListener)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onceLoad=function(e,t,n){return(0,o.once)('load',e,t,n)};var o=n(99)},function(e,t,n){'use strict';function o(e,t){return(0,i.canvasToBlob)(e,t).then((0,l.curry)(r,e,t))}function r(e,t,n){return!e.maxSize||n.size<e.maxSize?t:(e.quality=1-e.maxSize/n.size,o(e,t))}Object.defineProperty(t,'__esModule',{value:!0}),t.compressImage=function(e,t){return-1===(0,a.indexOf)(u,e.mime)?t:(0,d.imageToCanvas)(t).then((0,l.curry)(o,e)).then((0,l.curry)(s.canvasToImage,e))};var a=n(9),l=n(12),i=n(69),s=n(102),d=n(103),u=['image/jpeg','image/webp']},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.imageToDataURL=function(e,t){return(0,r.imageToBlob)(e,t).then(o.blobToDataURL)};var o=n(100),r=n(192)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.imageToBlob=function(e,t){return(0,a.imageToCanvas)(t).then((0,o.curry)(r.canvasToBlob,e))};var o=n(12),r=n(69),a=n(103)},function(e,t,n){'use strict';function o(e,t,n){var o=(0,s.element)('canvas');o.width=e.width,o.height=e.height,r(e,t,o),n(o)}function r(e,t,n){var o=n.getContext('2d');o.fillStyle='transparent',o.fillRect(0,0,e.width,e.height),o.save(),o.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height)}function a(e,t,n){var o=(0,c.create)(),r=e/t;return o.natural=l(e,t,r),o.max=l(n.maxWidth,n.maxHeight,r,Infinity),o.min=l(n.minWidth,n.minHeight,r,0),o.fixed=l(n.width,n.height,r,Infinity),i('width',o),i('height',o),o}function l(e,t,n,o){var r=(0,c.create)();return r.width=e||o,r.height=t||o,e&&t?t*n>e?r.height=e/n:r.width=t*n:e?r.height=e/n:t&&(r.width=t*n),r}function i(e,t){t[e]=~~f(t.max[e],m(t.fixed[e],t.min[e]))||t.natural[e]}Object.defineProperty(t,'__esModule',{value:!0}),t.resizeImage=function(e,t){return e=a(t.naturalWidth,t.naturalHeight,e),(0,u.promise)(o,e,t).then((0,d.curry)(p.canvasToImage,e))};var s=n(13),d=n(12),u=n(44),c=n(17),p=n(102),f=Math.min,m=Math.max},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.display=function(e,t){e.handle.img.src=t,e.close()}},function(e,t,n){'use strict';var o=n(0),r=n(30);o.anticore.on('header p[contenteditable=true]',function(e,t){(0,r.listenP)(e),t()})},function(e,t,n){'use strict';var o=n(0),r=n(6),a=n(15);n(197),n(200),n(203),n(204);var l=n(205);o.anticore.on('section.content',function(e,t){e.normalize(),(0,a.before)(e,(0,r.one)('article > footer')),(0,l.movers)(e),t()})},function(e,t,n){'use strict';var o=n(0),r=n(198);o.anticore.on('a[data-href]',function(e,t){(0,r.listenA)(e),t()})},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.listenA=function(e){(0,o.onClick)(e,(0,r.anchor)(e))};var o=n(2),r=n(199)},function(e,t,n){'use strict';function o(e){var t=(0,x.create)(),n=(0,c.current)(),o=n.anchorNode,a=(0,d.nodes)((0,P.cut)(o,n.anchorOffset)),l=o;return t.element=e,t.tooltip=r(t),(0,i.isText)(o)&&(l=(0,u.parent)(o)),(0,p.append)(e,l),(0,f.appendAll)(a,l),t.tooltip.show(),t.tooltip.show}function r(e){var t=(0,x.create)();return t.handle=e,t.show=(0,v.curry)(E.show,t),t.close=(0,v.curry)(a,t),t.nextOrClose=(0,v.curry)(M.nextOrClose,t),t.element=(0,g.update)((0,s.element)('section'),{class:'modal anchor'}),t.h1=(0,g.update)((0,s.element)('h1'),{parent:t.element,text:(0,h.data)(e.element,'h1')}),(0,h.data)(e.element,'h1',null),t.closer=(0,g.update)((0,s.element)('button'),{class:'closer',text:'\xD7',onClick:t.close,parent:t.element}),t.labels=[],t.inputs=[],t.labels.text=(0,g.update)((0,s.element)('label'),{parent:t.element,text:(0,h.data)(e.element,'text')}),t.labels.push(t.labels.text),(0,h.data)(e.element,'text',null),t.inputs.text=(0,g.update)((0,s.element)('input'),{parent:t.labels.text,value:(0,_.text)(e.element),onKeyUp:function(t){(0,b.html)(e.element,t.target.value)}}),t.inputs.push(t.inputs.text),(0,l.onEnter)(t.inputs.text,t.nextOrClose),t.labels.title=(0,g.update)((0,s.element)('label'),{parent:t.element,text:(0,h.data)(e.element,'title')}),t.labels.push(t.labels.title),(0,h.data)(e.element,'title',null),t.inputs.title=(0,g.update)((0,s.element)('input'),{parent:t.labels.title,value:e.element.title,onKeyUp:function(t){(0,m.attr)(e.element,'title',t.target.value)}}),t.inputs.push(t.inputs.title),(0,l.onEnter)(t.inputs.title,t.nextOrClose),t.labels.href=(0,g.update)((0,s.element)('label'),{parent:t.element,text:(0,h.data)(e.element,'href')}),t.labels.push(t.labels.href),(0,h.data)(e.element,'href',null),t.inputs.href=(0,g.update)((0,s.element)('input'),{parent:t.labels.href,value:(0,m.attr)(e.element,'href'),onKeyUp:function(t){(0,m.attr)(e.element,'href',t.target.value)}}),t.inputs.push(t.inputs.href),(0,l.onEnter)(t.inputs.href,t.nextOrClose),t}function a(e){var t=e.inputs,n=t.text.value,o=t.title.value,r=t.href.value;n.length&&o.length&&r.length||(0,y.remove)(e.handle.element),(0,y.remove)(e.element)}Object.defineProperty(t,'__esModule',{value:!0}),t.anchor=o;var l=n(31),i=n(29),s=n(13),d=n(22),u=n(1),c=n(5),p=n(19),f=n(24),m=n(16),h=n(47),b=n(55),y=n(4),_=n(11),g=n(41),v=n(12),x=n(17),P=n(64),M=n(68),E=n(70)},function(e,t,n){'use strict';var o=n(0),r=n(201);o.anticore.on('figure',function(e,t){(0,r.listenFigure)(e),t()})},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.listenFigure=function(e){(0,o.onClick)(e,(0,r.figure)(e))};var o=n(2),r=n(202)},function(e,t,n){'use strict';function o(e){var t=(0,_.create)(),n=(0,_.create)();return n.mime='image/jpeg',n.maxSize=35e3,n.quality=1,n.width=400,n.minHeight=200,t.handle=e,t.show=(0,y.curry)(P.show,t),t.close=(0,y.curry)(r,t),t.nextOrClose=(0,y.curry)(v.nextOrClose,t),t.element=(0,b.update)((0,i.element)('section'),{class:'modal figure'}),t.h1=(0,b.update)((0,i.element)('h1'),{parent:t.element,text:(0,f.data)(e.element,'h1')}),(0,f.data)(e.element,'h1',null),t.closer=(0,b.update)((0,i.element)('button'),{class:'closer',text:'\xD7',onClick:t.close,parent:t.element}),t.labels=[],t.inputs=[],t.labels.text=(0,b.update)((0,i.element)('label'),{parent:t.element,text:(0,f.data)(e.caption,'text')}),t.labels.push(t.labels.text),(0,f.data)(e.caption,'text',null),t.inputs.text=(0,b.update)((0,i.element)('input'),{parent:t.labels.text,onKeyUp:function(t){(0,m.html)(e.caption,t.target.value)}}),t.inputs.push(t.inputs.text),(0,l.onEnter)(t.inputs.text,t.nextOrClose),t.labels.alt=(0,b.update)((0,i.element)('label'),{parent:t.element,text:(0,f.data)(e.img,'alt')}),t.labels.push(t.labels.alt),(0,f.data)(e.img,'alt',null),t.inputs.alt=(0,b.update)((0,i.element)('input'),{parent:t.labels.alt,onKeyUp:function(t){(0,p.attr)(e.img,'alt',t.target.value)}}),t.inputs.push(t.inputs.alt),(0,l.onEnter)(t.inputs.alt,t.nextOrClose),t.labels.src=(0,b.update)((0,i.element)('label'),{parent:t.element,text:(0,f.data)(e.img,'src')}),t.labels.push(t.labels.src),(0,f.data)(e.img,'src',null),t.inputs.src=(0,b.update)((0,i.element)('input'),{parent:t.labels.src,type:'file',onKeyUp:function(t){(0,p.attr)(e.img,'href',t.target.value)}}),t.inputs.push(t.inputs.src),(0,a.imageFromInput)(t.inputs.src,(0,y.curry)(x.onFile,t,n)),(0,l.onEnter)(t.inputs.src,t.nextOrClose),t}function r(e){var t,n=e.inputs,o=n.text.value,r=n.alt.value,a=n.src.value;o.length&&r.length&&a.length?(t=(0,i.element)('p'),(0,g.listenP)(t),(0,c.after)((0,b.update)(t,{contenteditable:!0}),e.handle.element)):(0,h.remove)(e.handle.element),(0,h.remove)(e.element)}Object.defineProperty(t,'__esModule',{value:!0}),t.figure=function(e){var t=(0,_.create)(),n=(0,u.current)(),r=(0,s.closestOrSelf)('[contenteditable=true]',n.anchorNode);return t.element=e,t.caption=(0,d.one)('figcaption',e),t.img=(0,d.one)('img',e),t.tooltip=o(t),(0,c.after)(e,r),t.tooltip.show(),t.tooltip.show};var a=n(97),l=n(31),i=n(13),s=n(34),d=n(6),u=n(5),c=n(66),p=n(16),f=n(47),m=n(55),h=n(4),b=n(41),y=n(12),_=n(17),g=n(30),v=n(68),x=n(101),P=n(70)},function(e,t,n){'use strict';var o=n(0),r=n(49),a=n(96);o.anticore.on('section h1[contenteditable=true]',function(e,t){(0,a.listenH1)(e),setTimeout(r.end,0,e),t()})},function(e,t,n){'use strict';var o=n(0),r=n(30);o.anticore.on('section.content p[contenteditable=true]',function(e,t){(0,r.listenP)(e),t()})},function(e,t,n){'use strict';function o(){C||(C=(0,y.element)('ol'),(0,_.attr)(C,'class','movers'),r('up',a),r('remove',P.remove),r('down',l))}function r(e,t){var n=(0,y.element)('li'),o=(0,y.element)('button');(0,_.attr)(o,'class',e),(0,_.attr)(o,'type','button'),(0,g.append)(o,n),(0,g.append)(n,C),(0,O.onClick)(o,t)}function a(e){var t=e.target,n=(0,m.closestOrSelf)('section',t),o=(0,b.previousElement)(n);(0,v.before)(n,o),i(t)}function l(e){var t=e.target,n=(0,m.closestOrSelf)('section',t),o=(0,h.nextElement)(n);(0,x.after)(n,o),i(t)}function i(e){var t=(0,m.closestOrSelf)('section',e),n=(0,b.previousElement)(t),o=(0,h.nextElement)(t),r=(0,f.one)('.down',C),a=(0,f.one)('.up',C);n&&(0,E.matches)('form article > section',n)?s(a):d(a),o&&(0,E.matches)('form article > section',o)?s(r):d(r)}function s(e){(0,_.attr)(e,'disabled',null)}function d(e){(0,_.attr)(e,'disabled','disabled')}function u(e){if(!(0,p.parent)(C)){var t=e.target,n=(0,m.closestOrSelf)('section',t);(0,g.append)(C,n),i(t)}}function c(e){var t=e.target,n=(0,m.closestOrSelf)('section',t);n&&(0,M.contains)(C,n)||(0,P.remove)(C)}Object.defineProperty(t,'__esModule',{value:!0}),t.movers=function(e){(0,E.matches)('form article > section',e)&&(o(),(0,w.onMouseOver)(e.ownerDocument,c),(0,w.onMouseOver)(e,u))};var p=n(1),f=n(6),m=n(34),h=n(35),b=n(206),y=n(13),_=n(16),g=n(19),v=n(15),x=n(66),P=n(4),M=n(61),E=n(28),S=n(12),O=n(2),w=n(207),C=void 0},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.previousElement=function(e){return e.previousElementSibling}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.onMouseOver=function(e,t,n){return(0,o.on)('mouseover',e,t,n)};var o=n(7)},function(e,t,n){'use strict';function o(e){var t=(0,u.create)();t.columnNumber=e.columnNumber,t.fileName=e.fileName,t.lineNumber=e.lineNumber,t.message=e.message,t.platform=l.default,t.stack=e.stack.match(/(\w+:\/{2,3}[^\n]+)/g),t.type=e.constructor.name,(0,s.request)((0,d.one)('[data-log]').dataset.log,'post',JSON.stringify(t)).header('Content-Type','application/json').fetch(),console.error(e,l.default)}var r=n(0),a=n(72),l=function(e){return e&&e.__esModule?e:{default:e}}(a),i=n(8),s=n(80),d=n(6),u=n(17),c=(0,i.global)();r.anticore.onError=o,c.addEventListener('error',function(e){o(e.error),e.preventDefault()})},function(e,t,n){'use strict';var o=n(0);o.anticore.debug.onMiddleware=function(e,t){console.log({listener:t,selector:e})},o.anticore.debug.onMatch=function(e,t,n,o){console.log({element:n,listener:t,loaded:o,selector:e})}}]);